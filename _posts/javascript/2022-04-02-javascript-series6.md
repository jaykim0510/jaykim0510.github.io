---
layout: post
title:  'Javascript Series [Part6]: Javascript 함수와 스코프'
description: 이 시리즈는 이웅모님의 모던 자바스크립트 Deep Dive 책을 읽고 정리한 내용입니다.
date:   2022-04-02 15:01:35 +0300
image:  '/images/js_logo.jpg'
logo_image:  '/images/javascript_logo.png'
categories: programming_language
tags: Javascript
---
---

**Table of Contents**
{: #toc }
*  TOC
{:toc}

---

# 함수

- 함수는 일련의 과정을 문(statement)으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것이다.  
- 자바스크립트에서 함수는 객체 타입의 값이다
- 객체를 객체 리터럴({})로 생성하는 것처럼, 함수도 함수 리터럴(function, 함수이름, 매개변수 목록, {})로 생성할 수 있다
- 함수는 객체지만 일반 객체와는 다르다
- 일반 객체는 호출할 수 없지만, 함수는 호출할 수 있다
- (함수가 객체라는 사실은 자바스크립트의 중요한 특징이다)
- 자바스크립트에서 함수는 함수 이름으로 호출할 수 없다. 함수 객체를 가리키는 식별자로 호출해야 한다
- (함수 선언문 방식을 보면 식별자가 할당되어 있지 않지만, 자바스크립트 엔진에서 암묵적으로 함수 이름과 똑같은 변수를 함수 객체에 할당한다)

## 함수 정의

자바스크립트에서는 함수를 정의하는 방법이 몇 가지 된다.

![](/images/js_1.png)

### 함수 선언문

- 함수 이름을 생략할 수 없다
- 할당된 식별자가 없지만, 자바스크립트 엔진에서 암묵적으로 함수명과 똑같은 변수를 식별자로 할당한다
- 함수 선언문은 런타임 이전에 함수 객체가 먼저 생성된다. 그래서 함수 선언문 이전에 함수를 호출할 수 있다. 이를 함수 호이스팅이라 한다
- (하지만 변수 호이스팅처럼 `undefined`로 초기화되는 것은 아니고, 함수 객체로 바로 초기화 된다)

```js
function foo() {
    console.log('foo');
}

foo(); // 여기서 사용된 foo는 함수명이 아니라, 자바스크립트 엔진이 암묵적으로 할당한 식별자다
```

### 함수 표현식

- 함수 표현식에서는 일반적으로 함수 이름을 생략한다
- 함수 표현식은 변수에 할당하므로 변수 호이스팅 된다 -> 함수 표현식 이전에 참조하면 `undefined`로 평가된다
- 함수 선언문보다 함수 표현식을 권장한다

```js
var sub = function(x, y) {
    return x - y;
};

```

### 화살표 함수(Arrow function)

- `function` 키워드 대신 화살표(`=>`)를 사용해 좀 더 간략한 방법으로 함수를 선언할 수 있다
- 함수 이름은 따로 없다 -> 익명 함수다

```js
const add = (x, y) => x + y;
```

## 함수 호출

- 매개변수는 함수 내부에서만 참조할 수 있고, 외부에서는 참조할 수 없다 (매개변수의 스코프는 함수 내부다)
- 함수는 매개변수의 개수와 인수의 개수가 일치하는지 체크하지 않는다 -> 인수가 할당되지 않은 매개변수의 값은 `undefined` 다
- 매개변수보다 인수가 더 많은 경우 초과된 인수는 무시된다
- (초과된 인수를 포함해 모든 인수는 `arguments` 객체의 프로퍼티로 보관된다)

## 다양한 함수의 형태

### 즉시 실행 함수

- 함수 정의와 동시에 즉시 호출되는 함수
- 단 한 번만 호출되며 다시 호출할 수 없다
- `()`를 사용해 나타낸다
- 함수 이름은 표기할 수도 있지만, 익명 함수를 사용하는 것이 일반적이다

```js
// 익명 즉시 실행 함수
(function () {
    var a = 3;
    var b = 4;
    return a * b;
}());

// 기명 즉시 실행 함수
(function foo() {
    var a = 3;
    var b = 4;
    return a * b;
}());

// 변수 할당할 수 있다
var res = (function () {
    return 'Hello';
}());

```

### 재귀 함수

- 함수 안에서 자기 자신을 호출하는 함수
- 보통 이런 재귀함수를 위해 함수 이름을 사용하는 것이다
- 탈출 방법을 반드시 처리해야 한다

### 콜백 함수

- 함수의 매개변수로 함수를 받을 때, 이렇게 매개변수로 받은 함수를 콜백 함수라고 한다 (함수를 매개변수로 받는 함수는 고차 함수라 한다)
- 콜백 함수는 비동기 처리에 활용되는 중요한 패턴이다

# 스코프

