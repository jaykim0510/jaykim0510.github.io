I"¼<p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#workdir" id="markdown-toc-workdir">WORKDIR</a></li>
  <li><a href="#volume" id="markdown-toc-volume">VOLUME</a></li>
  <li><a href="#copy" id="markdown-toc-copy">COPY</a></li>
  <li><a href="#ì°¸ê³ " id="markdown-toc-ì°¸ê³ ">ì°¸ê³ </a></li>
</ul>

<hr />
<p><strong>Dockerfile instruction</strong></p>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />COPY</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />VOLUME</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked" />WORKDIR</li>
</ul>

<h1 id="workdir">WORKDIR</h1>

<p>WORKDIR ëª…ë ¹ì€ Docker íŒŒì¼ì—ì„œ ì´ì–´ì§€ëŠ” ëª¨ë“  RUN, CMD, ENTRIPOINT, COPY ë° ADD ëª…ë ¹ì— ëŒ€í•œ ì‘ì—… ë””ë ‰í† ë¦¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. WORKDIRì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ì´í›„ Dockerfile ëª…ë ¹ì–´ì— ì‚¬ìš©ë˜ì§€ ì•Šë”ë¼ë„ ìƒì„±ë©ë‹ˆë‹¤.</p>

<p>WORKDIR ëª…ë ¹ì€ Docker íŒŒì¼ì—ì„œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒëŒ€ ê²½ë¡œê°€ ì œê³µë˜ëŠ” ê²½ìš° ì´ì „ WORKDIR ëª…ë ¹ì˜ ê²½ë¡œì— ìƒëŒ€ì ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒ ëª…ë ¹ì–´ì˜ ê²°ê³¼ëŠ” <code class="language-plaintext highlighter-rouge">/a/b/c</code>ì…ë‹ˆë‹¤.</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WORKDIR</span><span class="s"> /a</span>
<span class="k">WORKDIR</span><span class="s"> b</span>
<span class="k">WORKDIR</span><span class="s"> c</span>
<span class="k">RUN </span><span class="nb">pwd</span>
</code></pre></div></div>

<p>ë˜í•œ ENVë¥¼ ì´ìš©í•´ Dockerfileì—ì„œ ëª…ì‹œí•œ í™˜ê²½ ë³€ìˆ˜ì˜ ê²½ìš° WORKDIR ëª…ë ¹ì–´ì—ì„œ í•´ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ì˜ˆë¥¼ ë³´ë©´ DIRPATHëŠ” Dockerfileì—ì„œ ì •ì˜ë¥¼ í–ˆê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">/path</code>ë¡œ ì¸ì‹ë˜ê³ , DIRNAMEì€ í•´ì„ë˜ì§€ ì•Šì•„ <code class="language-plaintext highlighter-rouge">/path/$DIRNAME</code>ê³¼ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤.</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ENV</span><span class="s"> DIRPATH=/path</span>
<span class="k">WORKDIR</span><span class="s"> $DIRPATH/$DIRNAME</span>
<span class="k">RUN </span><span class="nb">pwd</span>
</code></pre></div></div>

<h1 id="volume">VOLUME</h1>

<p>VOLUME ëª…ë ¹ì€ ì§€ì •ëœ ì´ë¦„ìœ¼ë¡œ ë§ˆìš´íŠ¸ ì§€ì ì„ ìƒì„±í•˜ê³  ë„¤ì´í‹°ë¸Œ í˜¸ìŠ¤íŠ¸ ë˜ëŠ” ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì™€ ë§ˆìš´íŠ¸ë©ë‹ˆë‹¤. ê°’ì€ JSON ì–´ë ˆì´, VOLUME [â€œ/var/log/â€] ë˜ëŠ” VOLUME /var/log /var/dbì™€ ê°™ì€ ë‹¤ì¤‘ ì¸ìˆ˜ê°€ ìˆëŠ” ì¼ë°˜ ë¬¸ìì—´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>The docker run command initializes the newly created volume with any data that exists at the specified location within the base image. For example, consider the following Dockerfile snippet:</p>

<p>Changing the volume from within the Dockerfile: If any build steps change the data within the volume after it has been declared, those changes will be discarded.</p>

<p>The host directory is declared at container run-time: The host directory (the mountpoint) is, by its nature, host-dependent. This is to preserve image portability, since a given host directory canâ€™t be guaranteed to be available on all hosts. For this reason, you canâ€™t mount a host directory from within the Dockerfile. The VOLUME instruction does not support specifying a host-dir parameter. You must specify the mountpoint when you create or run the container.</p>

<h1 id="copy">COPY</h1>

<h1 id="ì°¸ê³ ">ì°¸ê³ </h1>

<ul>
  <li><a href="https://docs.docker.com/engine/reference/builder/#cmd" target="_blank">Docker ê³µì‹ë¬¸ì„œ</a></li>
  <li><a href="https://blog.leocat.kr/notes/2017/01/08/docker-run-vs-cmd-vs-entrypoint" target="_blank">ìŠ¤ë…(thDeng)ë‹˜ ë¸”ë¡œê·¸</a></li>
</ul>
:ET