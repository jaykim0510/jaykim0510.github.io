I"±<hr />

<p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#flink-ìƒíƒœê³„-êµ¬ì„±" id="markdown-toc-flink-ìƒíƒœê³„-êµ¬ì„±">Flink ìƒíƒœê³„ êµ¬ì„±</a></li>
  <li><a href="#flink-ëŸ°íƒ€ì„-ì•„í‚¤í…ì²˜" id="markdown-toc-flink-ëŸ°íƒ€ì„-ì•„í‚¤í…ì²˜">Flink ëŸ°íƒ€ì„ ì•„í‚¤í…ì²˜</a>    <ul>
      <li><a href="#job-manager" id="markdown-toc-job-manager">Job Manager</a></li>
      <li><a href="#task-manager" id="markdown-toc-task-manager">Task Manager</a></li>
      <li><a href="#tasks-and-operator-chains" id="markdown-toc-tasks-and-operator-chains">Tasks and Operator Chains</a></li>
      <li><a href="#task-slots-and-resources" id="markdown-toc-task-slots-and-resources">Task Slots and Resources</a></li>
    </ul>
  </li>
  <li><a href="#flink-api" id="markdown-toc-flink-api">Flink API</a></li>
  <li><a href="#ì°¸ê³ " id="markdown-toc-ì°¸ê³ ">ì°¸ê³ </a></li>
</ul>

<hr />

<h1 id="flink-ìƒíƒœê³„-êµ¬ì„±">Flink ìƒíƒœê³„ êµ¬ì„±</h1>

<p><img src="/images/flink_23.png" alt="" /></p>

<h1 id="flink-ëŸ°íƒ€ì„-ì•„í‚¤í…ì²˜">Flink ëŸ°íƒ€ì„ ì•„í‚¤í…ì²˜</h1>

<p>í”Œë§í¬ ëŸ°íƒ€ì„ì€ ë‘ ì¢…ë¥˜ì˜ í”„ë¡œì„¸ìŠ¤ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. í•˜ë‚˜ëŠ” <strong>Job Manager</strong>ì´ê³  ë‹¤ë¥¸ í•˜ë‚˜ëŠ” <strong>Task Manger</strong>ë¡œ Task ManagerëŠ” í•œ ê°œ ì´ìƒìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>í”Œë§í¬ í´ë¼ì´ì–¸íŠ¸ëŠ” ëŸ°íƒ€ì„ì— í¬í•¨ë˜ì§€ëŠ” ì•Šì§€ë§Œ ë°ì´í„°í”Œë¡œìš°ë¥¼ Job Managerë¡œ ë³´ë‚´ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ì´ í›„ í´ë¼ì´ì–¸íŠ¸ëŠ” ì—°ê²°ì„ ëŠì„ ìˆ˜ë„ ìˆê³  ë˜ëŠ” attached modeë¥¼ í†µí•´ ì§„í–‰ ê²½ê³¼ë¥¼ ë³´ê³  ë°›ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ìë°” ìœ„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>

<p><img src="/images/flink_22.png" alt="" /></p>

<h2 id="job-manager">Job Manager</h2>

<p>ì¡ ë§¤ë‹ˆì €ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ <strong>ì‹¤í–‰ì„ ì œì–´í•˜ëŠ” ë§ˆìŠ¤í„° í”„ë¡œì„¸ìŠ¤</strong>ì…ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ì¡ ë§¤ë‹ˆì €ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì œì¶œí•©ë‹ˆë‹¤. ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë°ì´í„°í”Œë¡œìš° ê·¸ë˜í”„(ë˜ëŠ” ì¡ê·¸ë˜í”„)ì™€ í•„ìš”í•œ í´ë˜ìŠ¤, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ì„ í¬í•¨í•˜ëŠ” JARíŒŒì¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>

<p>ì¡ ë§¤ë‹ˆì €ëŠ” ì¡ê·¸ë˜í”„ë¥¼ ì‹¤í–‰ê·¸ë˜í”„(ExecutionGraph)ë¼ê³  ë¶ˆë¦¬ëŠ” ë¬¼ë¦¬ì ì¸ ê·¸ë˜í”„ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ì¡ ë§¤ë‹ˆì €ëŠ” íƒœìŠ¤í¬ ë§¤ë‹ˆì €ë‚´ì— ì‚¬ìš© ê°€ëŠ¥í•œ íƒœìŠ¤í¬ ìŠ¬ë¡¯ì— ì¡ê·¸ë˜í”„ë¥¼ íƒœìŠ¤í¬ í˜•íƒœë¡œ ë°°í¬í•©ë‹ˆë‹¤.</p>

<p><img src="/images/flink_25.png" alt="" /></p>

<p>ë˜í•œ ì¡ ë§¤ë‹ˆì €ëŠ” ì™„ë£Œëœ íƒœìŠ¤í¬, ì‹¤í–‰ ì‹¤íŒ¨, ì¥ì•  ë³µêµ¬, ì²´í¬í¬ì¸íŠ¸ ì¡°ìœ¨ ë“± ì¤‘ì•™ì—ì„œ ì œì–´í•´ì•¼ í•˜ëŠ” ëª¨ë“  ë™ì‘ì— ì±…ì„ì„ ì§‘ë‹ˆë‹¤.</p>

<p><img src="/images/flink_21.png" alt="" /></p>

<h2 id="task-manager">Task Manager</h2>

<p>íƒœìŠ¤í¬ ë§¤ë‹ˆì €(ì›Œì»¤)ëŠ” <strong>ë°ì´í„°í”Œë¡œìš°ì˜ íƒœìŠ¤í¬ë“¤ì„ ì‹¤í–‰</strong>í•©ë‹ˆë‹¤. íƒœìŠ¤í¬ ë§¤ë‹ˆì €ì— í• ë‹¹í•˜ëŠ” ê°€ì¥ ì‘ì€ ì‘ì—… ë‹¨ìœ„ë¥¼ íƒœìŠ¤í¬ ìŠ¬ë¡¯ì´ë¼ê³  í•©ë‹ˆë‹¤. íƒœìŠ¤í¬ ë§¤ë‹ˆì € ì•ˆì— ìˆëŠ” ìŠ¬ë¡¯ì˜ ê°œìˆ˜ëŠ” ë™ì‹œì— ì²˜ë¦¬ë˜ëŠ” ì‘ì—…ì˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. í•˜ë‚˜ì˜ ìŠ¬ë¡¯ì•ˆì—ì„œ ì—¬ëŸ¬ê°œì˜ ì—°ì‚°ìê°€ ì‹¤í–‰ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>

<p><img src="/images/flink_26.png" alt="" /></p>

<h2 id="tasks-and-operator-chains">Tasks and Operator Chains</h2>

<p>í”Œë§í¬ì˜ íƒœìŠ¤í¬ëŠ” ì—°ì‚°ìë¥¼ ì²´ì´ë‹í•œ ì„œë¸ŒíƒœìŠ¤í¬ì˜ ì§‘í•©ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. ê°ê°ì˜ ì„œë¸ŒíƒœìŠ¤í¬ëŠ” í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ ì—°ì‚°ìë“¤ì„ ì²´ì´ë‹ í•¨ìœ¼ë¡œì¨ í”Œë§í¬ëŠ” ìŠ¤ë ˆë“œê°„ í•¸ë“œì˜¤ë²„ì™€ ë²„í¼ë§ìœ¼ë¡œ ì¸í•œ ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì…ë‹ˆë‹¤. ì´ëŠ” ì „ì²´ì ì¸ ì²˜ë¦¬ëŸ‰ ì¦ê°€ì™€ ì§€ì—°ìœ¨ ê°ì†Œë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.</p>

<p><img src="/images/flink_28.png" alt="" /></p>

<h2 id="task-slots-and-resources">Task Slots and Resources</h2>

<p>íƒœìŠ¤í¬ ë§¤ë‹ˆì €ëŠ” ê°ê° í•˜ë‚˜ì˜ JVM í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  íƒœìŠ¤í¬ ë§¤ë‹ˆì €ëŠ” í•˜ë‚˜ ì´ìƒì˜ ì„œë¸ŒíƒœìŠ¤í¬ë¥¼ ìŠ¤ë ˆë“œë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ê°ê°ì˜ íƒœìŠ¤í¬ ìŠ¬ë¡¯ì€ ê°ê°ì˜ ë¶„ë¦¬ëœ ìì›ìœ¼ë¡œ ê°€ì¥ ì‘ì€ ì‘ì—… ë‹¨ìœ„ ì…ë‹ˆë‹¤. íƒœìŠ¤í¬ ìŠ¬ë¡¯ìœ¼ë¡œ ë¶„ë¦¬ëœ ì‘ì—…ë“¤ì€ ìì›ì„ ìœ„í•´ ì„œë¡œ ê²½ìŸí•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤. íƒœìŠ¤í¬ ìŠ¬ë¡¯ì—ì„œ ë¶„ë¦¬í•˜ëŠ” ìì›ì€ ë©”ëª¨ë¦¬ ë¿ì…ë‹ˆë‹¤. CPUëŠ” ë¶„ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>

<p>íƒœìŠ¤í¬ ë§¤ë‹ˆì €ëŠ” ê°ê° í•˜ë‚˜ì˜ JVM í”„ë¡œì„¸ìŠ¤ì´ê¸° ë•Œë¬¸ì— íƒœìŠ¤í¬ ë§¤ë‹ˆì €ê°€ ì—¬ëŸ¬ê°œì˜ íƒœìŠ¤í¬ ìŠ¬ë¡¯ì„ ê°€ì§„ë‹¤ë©´ ì—¬ëŸ¬ê°œì˜ íƒœìŠ¤í¬ê°€ í•˜ë‚˜ì˜ JVM í”„ë¡œì„¸ìŠ¤ ìœ„ì—ì„œ ì‹¤í–‰ëœë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. í•˜ë‚˜ì˜ JVM ìœ„ì—ì„œ ì‹¤í–‰ë˜ëŠ” íƒœìŠ¤í¬ë“¤ì€ TCP ì—°ê²°ì„ í†µí•´ ì„œë¡œ í•˜íŠ¸ë¹„íŠ¸ ë©”ì„¸ì§€ë¥¼ ì£¼ê³  ë°›ìŠµë‹ˆë‹¤. ë˜í•œ íƒœìŠ¤í¬ê°„ ë°ì´í„°ì…‹ì„ ê³µìœ í•¨ìœ¼ë¡œì¨ íƒœìŠ¤í¬ë³„ë¡œ ë°œìƒí•˜ëŠ” ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì—¬ì¤ë‹ˆë‹¤.</p>

<p>í”Œë§í¬ëŠ” ë””í´íŠ¸ë¡œ ì‘ì—…ì˜ ì „ì²´ íŒŒì´í”„ë¼ì¸ì„ í•˜ë‚˜ì˜ ìŠ¬ë¡¯ì— í• ë‹¹í•©ë‹ˆë‹¤.</p>

<p><img src="/images/flink_27.png" alt="" /></p>

<h1 id="flink-api">Flink API</h1>

<p><img src="/images/flink_24.png" alt="" /></p>

<ul>
  <li>
    <p>The lowest level abstraction simply offers stateful and timely stream processing. It is embedded into the DataStream API via the Process Function. It allows users to freely process events from one or more streams, and provides consistent, fault tolerant state. In addition, users can register event time and processing time callbacks, allowing programs to realize sophisticated computations.</p>
  </li>
  <li>
    <p>In practice, many applications do not need the low-level abstractions described above, and can instead program against the Core APIs: the DataStream API (bounded/unbounded streams) and the DataSet API (bounded data sets). These fluent APIs offer the common building blocks for data processing, like various forms of user-specified transformations, joins, aggregations, windows, state, etc. Data types processed in these APIs are represented as classes in the respective programming languages.</p>

    <p>The low level Process Function integrates with the DataStream API, making it possible to use the lower-level abstraction on an as-needed basis. The DataSet API offers additional primitives on bounded data sets, like loops/iterations.</p>
  </li>
  <li>
    <p>The Table API is a declarative DSL centered around tables, which may be dynamically changing tables (when representing streams). The Table API follows the (extended) relational model: Tables have a schema attached (similar to tables in relational databases) and the API offers comparable operations, such as select, project, join, group-by, aggregate, etc. Table API programs declaratively define what logical operation should be done rather than specifying exactly how the code for the operation looks. Though the Table API is extensible by various types of user-defined functions, it is less expressive than the Core APIs, and more concise to use (less code to write). In addition, Table API programs also go through an optimizer that applies optimization rules before execution.</p>

    <p>One can seamlessly convert between tables and DataStream/DataSet, allowing programs to mix the Table API with the DataStream and DataSet APIs.</p>
  </li>
  <li>
    <p>The highest level abstraction offered by Flink is SQL. This abstraction is similar to the Table API both in semantics and expressiveness, but represents programs as SQL query expressions. The SQL abstraction closely interacts with the Table API, and SQL queries can be executed over tables defined in the Table API.</p>
  </li>
</ul>

<h1 id="ì°¸ê³ ">ì°¸ê³ </h1>
<ul>
  <li><a href="https://www.confluent.io/blog/apache-flink-apache-kafka-streams-comparison-guideline-users/" target="_blank">Flink and Kafka Streams: a Comparison and Guideline for Users</a></li>
  <li><a href="https://towardsdatascience.com/heres-how-flink-stores-your-state-7b37fbb60e1a" target="_blank">Kartik Khare, Hereâ€™s How Apache Flink Stores Your State data</a></li>
  <li><a href="https://stackoverflow.com/questions/31951978/storage-in-apache-flink" target="_blank">stackoverflow: Storage in Apache Flink</a></li>
</ul>
:ET