I"÷µ<hr />

<p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#í¼form" id="markdown-toc-í¼form">í¼(Form)</a>    <ul>
      <li><a href="#í¼ì´-ì²˜ë¦¬ë˜ëŠ”-ê³¼ì •" id="markdown-toc-í¼ì´-ì²˜ë¦¬ë˜ëŠ”-ê³¼ì •">í¼ì´ ì²˜ë¦¬ë˜ëŠ” ê³¼ì •</a></li>
      <li><a href="#í¼-ë§Œë“¤ê¸°" id="markdown-toc-í¼-ë§Œë“¤ê¸°">í¼ ë§Œë“¤ê¸°</a></li>
    </ul>
  </li>
  <li><a href="#ëª¨ë¸-í¼model-form" id="markdown-toc-ëª¨ë¸-í¼model-form">ëª¨ë¸ í¼(Model Form)</a></li>
  <li><a href="#ë°ì´í„°-ìœ íš¨ì„±-ê²€ì¦" id="markdown-toc-ë°ì´í„°-ìœ íš¨ì„±-ê²€ì¦">ë°ì´í„° ìœ íš¨ì„± ê²€ì¦</a>    <ul>
      <li><a href="#ìœ íš¨ì„±-ê²€ì¦ì˜-ì˜ˆ" id="markdown-toc-ìœ íš¨ì„±-ê²€ì¦ì˜-ì˜ˆ">ìœ íš¨ì„± ê²€ì¦ì˜ ì˜ˆ</a></li>
      <li><a href="#ìœ íš¨ì„±-ê²€ì¦í• -ìˆ˜-ìˆëŠ”-ë°©ë²•" id="markdown-toc-ìœ íš¨ì„±-ê²€ì¦í• -ìˆ˜-ìˆëŠ”-ë°©ë²•">ìœ íš¨ì„± ê²€ì¦í•  ìˆ˜ ìˆëŠ” ë°©ë²•</a>        <ul>
          <li><a href="#1-fieldë¥¼-ì •ì˜í• -ë•Œ-í•„ìš”í•œ-ì˜µì…˜ì„-ì¸ìë¡œ-ì£¼ê¸°" id="markdown-toc-1-fieldë¥¼-ì •ì˜í• -ë•Œ-í•„ìš”í•œ-ì˜µì…˜ì„-ì¸ìë¡œ-ì£¼ê¸°">1. Fieldë¥¼ ì •ì˜í•  ë•Œ í•„ìš”í•œ ì˜µì…˜ì„ ì¸ìë¡œ ì£¼ê¸°</a></li>
          <li><a href="#2-validator-ì¶”ê°€í•˜ê¸°" id="markdown-toc-2-validator-ì¶”ê°€í•˜ê¸°">2. Validator ì¶”ê°€í•˜ê¸°</a>            <ul>
              <li><a href="#2-1-built-in-validator" id="markdown-toc-2-1-built-in-validator">2-1 Built-in Validator</a></li>
              <li><a href="#2-2-custom-validator" id="markdown-toc-2-2-custom-validator">2-2 Custom Validator</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#í¼ì„-ìœ„í•œ-í…œí”Œë¦¿-ë‹¤ë£¨ê¸°" id="markdown-toc-í¼ì„-ìœ„í•œ-í…œí”Œë¦¿-ë‹¤ë£¨ê¸°">í¼ì„ ìœ„í•œ í…œí”Œë¦¿ ë‹¤ë£¨ê¸°</a></li>
  <li><a href="#í¼ì—-css-ì ìš©í•˜ê¸°" id="markdown-toc-í¼ì—-css-ì ìš©í•˜ê¸°">í¼ì— CSS ì ìš©í•˜ê¸°</a></li>
  <li><a href="#í•„ë“œë¥¼-ê°€ì§€ëŠ”-ë°ì´í„°ì—-css-ì ìš©í•˜ê¸°" id="markdown-toc-í•„ë“œë¥¼-ê°€ì§€ëŠ”-ë°ì´í„°ì—-css-ì ìš©í•˜ê¸°">í•„ë“œë¥¼ ê°€ì§€ëŠ” ë°ì´í„°ì— CSS ì ìš©í•˜ê¸°</a></li>
  <li><a href="#í¬ìŠ¤íŠ¸-ìˆ˜ì •update-êµ¬í˜„í•˜ê¸°" id="markdown-toc-í¬ìŠ¤íŠ¸-ìˆ˜ì •update-êµ¬í˜„í•˜ê¸°">í¬ìŠ¤íŠ¸ ìˆ˜ì •(Update) êµ¬í˜„í•˜ê¸°</a></li>
  <li><a href="#í¬ìŠ¤íŠ¸-ì‚­ì œdelete-êµ¬í˜„í•˜ê¸°" id="markdown-toc-í¬ìŠ¤íŠ¸-ì‚­ì œdelete-êµ¬í˜„í•˜ê¸°">í¬ìŠ¤íŠ¸ ì‚­ì œ(Delete) êµ¬í˜„í•˜ê¸°</a></li>
</ul>

<hr />

<h1 id="í¼form">í¼(Form)</h1>
<ul>
  <li>í¼ì€ ì›¹ í˜ì´ì§€ì—ì„œ ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ì…ë ¥ë°›ì„ ìˆ˜ ìˆëŠ” ì…ë ¥ ì–‘ì‹</li>
  <li>ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ê¸° ìœ„í•œ ë°©ì‹</li>
</ul>

<p><img src="/images/d_form_1.png" alt="" width="100%" /></p>

<ul>
  <li>formì„ ì‚¬ìš©í•  ë•ŒëŠ” ì‚¬ìš©ìë¡œë¶€í„° ë°ì´í„°ë¥¼ ì…ë ¥ë°›ì•„ì„œ ì €ì¥, ìˆ˜ì • ë“±ì˜ ë°ì´í„°ë² ì´ìŠ¤ì™€ ê´€ë ¨ëœ ë¡œì§ì„ ë§ì´ ìˆ˜í–‰í•˜ë¯€ë¡œ, formì—ì„œëŠ” ëŒ€ë¶€ë¶„ì˜ ê²½ìš° POSTë¥¼ ì‚¬ìš©í•œë‹¤ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤.</li>
</ul>

<h2 id="í¼ì´-ì²˜ë¦¬ë˜ëŠ”-ê³¼ì •">í¼ì´ ì²˜ë¦¬ë˜ëŠ” ê³¼ì •</h2>

<ol>
  <li>
    <p>ìœ ì €ê°€ ì„œë²„ì—ê²Œ FORM ì–‘ì‹ ìš”ì²­(GETë°©ì‹)</p>
  </li>
  <li>
    <p>ì„œë²„ê°€ ìœ ì €ì—ê²Œ ì–¸ ë°”ìš´ë“œí¼(ì‚¬ìš©ìë¡œë¶€í„° ì•„ì§ ë°ì´í„°ë¥¼ ë°›ì€ ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ) ì‘ë‹µ</p>
  </li>
  <li>
    <p>ìœ ì €ê°€ ì„œë²„ë¡œë¶€í„° ë°›ì€ í¼ì˜ ì–‘ì‹ì— ë§ì¶° ë°ì´í„°ë¥¼ ì „ì†¡(POSTë°©ì‹)</p>
  </li>
  <li>
    <p>ì„œë²„ëŠ” ìœ ì €ë¡œë¶€í„° ë°›ì€ ë°ì´í„°ë¥¼ í¼ì— ë°”ì¸ë”©</p>
  </li>
  <li>
    <p>ë°”ìš´ë“œ í¼ì˜ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šìœ¼ë©´ ë‹¤ì‹œ ì…ë ¥í•˜ë„ë¡ ì‘ë‹µ</p>
  </li>
  <li>
    <p>ì…ë ¥ëœ ë°ì´í„°ê°€ ìœ íš¨í•˜ë©´ ì„œë²„ëŠ” ë¡œì§ì„ ìˆ˜í–‰(ìˆ˜ì •, ì €ì¥)í•œ í›„ ìœ ì €ì—ê²Œ ìƒˆë¡œìš´ í˜ì´ì§€ ì‘ë‹µ</p>
  </li>
</ol>

<p>í¼ METHOD: GET, POST</p>

<p>í¼ íƒœê·¸ ì•ˆì— ì‚¬ìš©ë˜ëŠ” TAG: INPUT, LABEL</p>

<p>INPUT íƒœê·¸ì˜ TYPE: EMAIL, PW, BUTTON, RADIO, CHECKBOX, DATE, FILE, SUBMIT</p>

<p><img src="/images/d_form_6.png" alt="" width="60%" /></p>

<p><img src="/images/d_form_7.png" alt="" width="60%" /></p>

<p><img src="/images/d_form_8.png" alt="" width="60%" /></p>

<h2 id="í¼-ë§Œë“¤ê¸°">í¼ ë§Œë“¤ê¸°</h2>
<ul>
  <li>
    <p>í¼ì„ ë§Œë“œëŠ” ê³¼ì •ì€ ëª¨ë¸ê³¼ ìƒë‹¹íˆ ë¹„ìŠ·í•©ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>í¼ì€ ì›¹ í˜ì´ì§€ì—ì„œ ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ì…ë ¥ë°›ì„ ìˆ˜ ìˆëŠ” ì…ë ¥ ì–‘ì‹ìœ¼ë¡œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„°ë¥¼ ì„œë²„ë¡œ ì „ì†¡í•˜ê¸° ìœ„í•œ ë°©ì‹ì…ë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ê¸€ì„ ì‘ì„±í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿ì„ í¼ì„ ì´ìš©í•´ ë§Œë“¤ì–´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.</p>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># urls.py  
</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>

    <span class="n">path</span><span class="p">(</span><span class="s">'diary/write/'</span><span class="p">,</span> <span class="n">views</span><span class="p">.</span><span class="n">page_create</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'page-create'</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># views.py  
</span>
<span class="k">def</span> <span class="nf">page_create</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span> <span class="c1"># ë§Œì•½ ìš”ì²­ ë°©ì‹ì´ POSTë¼ë©´
</span>        <span class="n">new_page</span> <span class="o">=</span> <span class="n">Page</span><span class="p">(</span> <span class="c1"># ì…ë ¥ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ Page ë°ì´í„° ëª¨ë¸ì„ ë§Œë“¤ê³ 
</span>            <span class="n">title</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">[</span><span class="s">'title'</span><span class="p">],</span>  
            <span class="n">content</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">[</span><span class="s">'content'</span><span class="p">],</span>
            <span class="n">feeling</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">[</span><span class="s">'feeling'</span><span class="p">],</span>
            <span class="n">score</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">[</span><span class="s">'score'</span><span class="p">],</span>
            <span class="n">dt_created</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">[</span><span class="s">'dt_created'</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">new_page</span><span class="p">.</span><span class="n">save</span><span class="p">()</span> <span class="c1"># ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œ í›„
</span>        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'page-detail'</span><span class="p">,</span> <span class="n">page_id</span><span class="o">=</span><span class="n">new_page</span><span class="p">.</span><span class="nb">id</span><span class="p">)</span> <span class="c1"># ìƒì„¸ ì¼ê¸° ë³´ê¸° í˜ì´ì§€ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.
</span>    
    <span class="k">else</span><span class="p">:</span> <span class="c1"># ë§Œì•½ ìš”ì²­ ë°©ì‹ì´ GETì´ë¼ë©´
</span>        <span class="n">form</span> <span class="o">=</span> <span class="n">PageForm</span><span class="p">()</span> <span class="c1"># ìƒˆë¡œìš´ formì„ ë§Œë“¤ê³  (ë¹ˆ í¼)
</span>        <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'diary/page_form.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'form'</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span> 
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># forms.py  
</span>
<span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>

<span class="k">class</span> <span class="nc">PageForm</span><span class="p">(</span><span class="n">forms</span><span class="p">.</span><span class="n">Form</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'ì œëª©'</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="p">.</span><span class="n">Textarea</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'ë‚´ìš©'</span><span class="p">)</span>
    <span class="n">feeling</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'ê°ì • ìƒíƒœ'</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'ê°ì • ì ìˆ˜'</span><span class="p">)</span>
    <span class="n">dt_created</span> <span class="o">=</span> <span class="n">forms</span><span class="p">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'ì‘ì„±ì¼'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># page_form.html

<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>{% csrf_token %}
    {{form.as_p}}
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"ì‘ì„±í•˜ê¸°"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div>

<dl>
  <dt>ğŸ”” í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìš”ì²­ ìœ„ì¡°(CSRF, Cross-Site Request Forgery)</dt>
  <dd>
    <p>ì›¹ ì‚¬ì´íŠ¸ì—ì„œ ìœ ì €ê°€ ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ëŠ” í–‰ìœ„ë¥¼ ì•…ì˜ì ìœ¼ë¡œ ë³€ê²½í•´ì„œ ìš”ì²­ì„ ì „ì†¡í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë‚´ê°€ ìš”ì²­í•˜ì§€ ì•Šì€ ì¼ì¸ë° ë‚´ê°€ ìš”ì²­í•œ ê²ƒì²˜ëŸ¼ ì²˜ë¦¬ë˜ëŠ” ê±°ì£ .<br />
Cross-Siteë¼ëŠ” ë§ì´ ë¶™ì€ ì´ìœ ëŠ” ì•…ì„± ì‚¬ì´íŠ¸ì—ì„œ ë³´ì•ˆì´ ì·¨ì•½í•œ ì‚¬ì´íŠ¸ë¡œ ìš°íšŒ ìš”ì²­ì„ ë³´ë‚´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìš”ì²­ ìœ„ì¡°ë¥¼ ë°©ì§€í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë§ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ë¡œ CSRF ìœ„ì¡° ë°©ì§€ í† í°(Cross Site Request Forgery Token)ì…ë‹ˆë‹¤. ìš”ì²­ ìœ„ì¡° ë°©ì§€ í† í°ì€ ì„œë²„ë¡œë¶€í„° í¼ì„ ìš”ì²­í•  ë•Œ ë°œí–‰ë˜ì–´ ìœ ì €ê°€ í¼ì— ë°ì´í„°ë¥¼ ì…ë ¥í•˜ê³  ì„œë²„ë¡œ ì „ì†¡í•  ë•Œ ì´ í† í° ê°’ì„ í•¨ê»˜ ì „ë‹¬í•´ì„œ ì„œë²„ì—ì„œ í† í° ê°’ì„ ë¹„êµí•œ ë’¤ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì„ ë§í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ìš”ì²­ ê²€ì¦ í† í°(Request Verification Token)ë¼ê³  ë¶€ë¥´ê¸°ë„ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ ì²˜ë¦¬í•˜ë©´ ì•…ì„± ì‚¬ì´íŠ¸ê°€ í¼ì„ ì „ì†¡í•  ë•Œ ì´ ìœ„ì¡° ë°©ì§€ í† í° ê°’ì„ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì„œë²„ì—ì„œ ì‚¬ìš©ìê°€ ì§ì ‘ ë³´ë‚¸ ìš”ì²­ì¸ì§€ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê±°ì£ .</p>
  </dd>
</dl>

<h1 id="ëª¨ë¸-í¼model-form">ëª¨ë¸ í¼(Model Form)</h1>
<ul>
  <li>í¼ í•„ë“œë¥¼ ê°ê° ì •ì˜í•´ ì£¼ì§€ ì•Šì•„ë„ ëª¨ë¸ì˜ í•„ë“œë¥¼ ë³´ê³  ìë™ìœ¼ë¡œ ì¥ê³ ê°€ ìœ ì¶”í•´ì„œ í¼ í•„ë“œë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</li>
  <li>ì´ë¥¼ ìœ„í•´ Meta í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ ì‚¬ìš©í•  ëª¨ë¸ê³¼ ì…ë ¥ë°›ì„ ëª¨ë¸ í•„ë“œë¥¼ ëª…ì‹œí•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># forms.py  
</span>
<span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Page</span> <span class="c1"># ì‚¬ìš©í•  ëª¨ë¸ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
</span>
<span class="k">class</span> <span class="nc">PageForm</span><span class="p">(</span><span class="n">forms</span><span class="p">.</span><span class="n">ModelForm</span><span class="p">):</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Page</span> <span class="c1"># ëª¨ë¸ í¼ì—ì„œ ì‚¬ìš©í•  ëª¨ë¸ê³¼ í•„ë“œë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.
</span>        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s">'title'</span><span class="p">,</span> <span class="s">'content'</span><span class="p">,</span> <span class="s">'feeling'</span><span class="p">,</span> <span class="s">'score'</span><span class="p">,</span> <span class="s">'dt_created'</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># views.py
</span>
<span class="k">def</span> <span class="nf">page_create</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">PageForm</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">)</span> <span class="c1"># ì…ë ¥ëœ ë°ì´í„°ì™€ í¼ì„ í•©ì³ì„œ ë°”ì¸ë”© í¼ì„ ë§Œë“­ë‹ˆë‹¤.
</span>        <span class="n">new_page</span> <span class="o">=</span> <span class="n">form</span><span class="p">.</span><span class="n">save</span><span class="p">()</span> <span class="c1"># ë°ì´í„° ì €ì¥ ë° ìƒì„±ëœ ë°ì´í„° ëª¨ë¸ ë°˜í™˜
</span>        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'page-detail'</span><span class="p">,</span> <span class="n">page_id</span><span class="o">=</span><span class="n">new_page</span><span class="p">.</span><span class="nb">id</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span> <span class="c1"># ë§Œì•½ ìš”ì²­ ë°©ì‹ì´ GETì´ë¼ë©´
</span>        <span class="n">form</span> <span class="o">=</span> <span class="n">PageForm</span><span class="p">()</span> <span class="c1"># ìƒˆë¡œìš´ formì„ ë§Œë“¤ê³  (ë¹ˆ í¼)
</span>        <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'diary/page_form.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'form'</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span> 
</code></pre></div></div>

<h1 id="ë°ì´í„°-ìœ íš¨ì„±-ê²€ì¦">ë°ì´í„° ìœ íš¨ì„± ê²€ì¦</h1>

<p><img src="/images/d_form_9.png" alt="" width="60%" /></p>

<h2 id="ìœ íš¨ì„±-ê²€ì¦ì˜-ì˜ˆ">ìœ íš¨ì„± ê²€ì¦ì˜ ì˜ˆ</h2>
<ul>
  <li>ëª¨ë“  í•­ëª©ì„ ë¹ˆì¹¸ ì—†ì´ ì±„ì›Œì£¼ì„¸ìš”.</li>
  <li>ì œëª©ì€ 50ìê¹Œì§€ë§Œ ì‘ì„±í•´ ì£¼ì„¸ìš”.</li>
  <li>ë‹¤ë¥¸ ì œëª©ê³¼ ì¤‘ë³µë˜ì§€ ì•Šê²Œ í•´ì£¼ì„¸ìš”.</li>
  <li>ë‚´ìš©ì—ëŠ” #ê³¼ @ë¥¼ ì“¸ ìˆ˜ ì—†ì–´ìš”.</li>
</ul>

<p>ğŸ”” blank ì™€ null</p>
<ul>
  <li>blank: ë¹„ì–´ìˆëŠ” ê°’ì„ í—ˆìš©í•˜ë©´ blank=True</li>
  <li>null: ë¹„ì–´ìˆëŠ” ê°’ì´ ìˆëŠ” ê²½ìš° ê·¸ ê°’ì„ nullë¡œ ì €ì¥í•˜ë ¤ë©´ null=True</li>
</ul>

<h2 id="ìœ íš¨ì„±-ê²€ì¦í• -ìˆ˜-ìˆëŠ”-ë°©ë²•">ìœ íš¨ì„± ê²€ì¦í•  ìˆ˜ ìˆëŠ” ë°©ë²•</h2>

<h3 id="1-fieldë¥¼-ì •ì˜í• -ë•Œ-í•„ìš”í•œ-ì˜µì…˜ì„-ì¸ìë¡œ-ì£¼ê¸°">1. Fieldë¥¼ ì •ì˜í•  ë•Œ í•„ìš”í•œ ì˜µì…˜ì„ ì¸ìë¡œ ì£¼ê¸°</h3>

<ul>
  <li>ëª¨ë¸ í¼ì„ ì´ìš©í•´ í¼ì„ ì •ì˜í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ìš°ë¦¬ì˜ <u>ëª¨ë¸ì— ìˆëŠ” Field</u>ì— ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìœ„í•œ ì˜µì…˜ì„ ì¸ìë¡œ ì£¼ë©´ ë©ë‹ˆë‹¤.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># models.py
</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Page</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="n">feeling</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="n">dt_created</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateField</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">title</span>
</code></pre></div></div>

<ul>
  <li>ê·¸ë¦¬ê³  ì…ë ¥ìœ¼ë¡œ ë°›ì€ ë°ì´í„°ê°€ ìœ íš¨í•œì§€ ì•ˆí•œì§€ì— ë”°ë¼ ìœ ì €ì—ê²Œ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì£¼ë©´ ë©ë‹ˆë‹¤.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># views.py  
</span>
<span class="k">def</span> <span class="nf">page_create</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">PageForm</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">)</span> <span class="c1"># ì…ë ¥ëœ ë°ì´í„°ì™€ í¼ì„ í•©ì³ì„œ ë°”ì¸ë”© í¼ì„ ë§Œë“­ë‹ˆë‹¤.
</span>
        <span class="k">if</span> <span class="n">post_form</span><span class="p">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">new_page</span> <span class="o">=</span> <span class="n">form</span><span class="p">.</span><span class="n">save</span><span class="p">()</span> <span class="c1"># ë°ì´í„° ì €ì¥ ë° ìƒì„±ëœ ë°ì´í„° ëª¨ë¸ ë°˜í™˜
</span>            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'page-detail'</span><span class="p">,</span> <span class="n">page_id</span><span class="o">=</span><span class="n">new_page</span><span class="p">.</span><span class="nb">id</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span> <span class="c1"># ë§Œì•½ ìš”ì²­ ë°©ì‹ì´ GETì´ë¼ë©´
</span>        <span class="n">form</span> <span class="o">=</span> <span class="n">PageForm</span><span class="p">()</span> <span class="c1"># ìƒˆë¡œìš´ formì„ ë§Œë“¤ê³  (ë¹ˆ í¼)
</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'diary/page_form.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'form'</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span> 
</code></pre></div></div>

<h3 id="2-validator-ì¶”ê°€í•˜ê¸°">2. Validator ì¶”ê°€í•˜ê¸°</h3>

<ul>
  <li>
    <p>ê°’ì„ ë°›ì•„ ìœ íš¨ì„± ê¸°ì¤€ì„ ì¶©ì¡±í•˜ì§€ ì•Šìœ¼ë©´ ValidationErrorë¥¼ ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜</p>
  </li>
  <li>
    <p>ì¥ê³ ì—ì„œ ì œê³µí•˜ëŠ” Built-in Validatorê°€ ìˆìœ¼ë©° ì›í•˜ë©´ ì§ì ‘ ì •ì˜í•  ìˆ˜ ë„ ìˆìŠµë‹ˆë‹¤.</p>
  </li>
</ul>

<h4 id="2-1-built-in-validator">2-1 Built-in Validator</h4>

<p><a href="https://docs.djangoproject.com/en/3.2/ref/validators/">ì¥ê³  ê³µì‹ë¬¸ì„œ ì°¸ê³ </a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># models.py
</span>
<span class="kn">from</span> <span class="nn">django.core.validators</span> <span class="kn">import</span> <span class="n">MinLengthValidator</span>

<span class="k">class</span> <span class="nc">Page</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>

    <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">MinLengthValidator</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s">'Too short!'</span><span class="p">)])</span>
</code></pre></div></div>

<h4 id="2-2-custom-validator">2-2 Custom Validator</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># validators.py íŒŒì¼ ìƒì„±  
</span>
<span class="kn">from</span> <span class="nn">django.core.exceptions</span> <span class="kn">import</span> <span class="n">ValidationError</span>

<span class="k">def</span> <span class="nf">validate_symbols</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
  <span class="k">if</span> <span class="p">(</span><span class="s">"@"</span> <span class="ow">in</span> <span class="n">value</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="s">"#"</span> <span class="ow">in</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s">'"@"ì™€ "#"ì€ í¬í•¨ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s">'symbol-err'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># models.py
</span>
<span class="kn">from</span> <span class="nn">django.core.validators</span> <span class="kn">import</span> <span class="n">MinLengthValidator</span>
<span class="kn">from</span> <span class="nn">.validators</span> <span class="kn">import</span> <span class="n">validate_symbols</span>

<span class="k">class</span> <span class="nc">Page</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>

    <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">MinLengthValidator</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s">'Too short!'</span><span class="p">),</span> <span class="n">validate_symbols</span><span class="p">])</span>
</code></pre></div></div>

<dl>
  <dt>ğŸ”” í¼ì—ì„œ ìœ íš¨ì„± ê²€ì¦í•˜ê¸°</dt>
  <dd>ëª¨ë¸ê³¼ ê´€ë ¨ì´ ì—†ëŠ” ë°ì´í„°ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ì•„ì•¼ í•  ë•ŒëŠ” ëª¨ë¸ í¼ì´ ì•„ë‹Œ <u>ì¼ë°˜ í¼</u>ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•˜ë¯€ë¡œ ì´ ë•Œì˜ ìœ íš¨ì„± ê²€ì‚¬ëŠ” ë¬´ì¡°ê±´ í¼ì—ì„œ í•´ì•¼ í•©ë‹ˆë‹¤.<br />
ì‘ì„± ë°©ë²•ì€ ëª¨ë¸ì— ì ìš©í•  ë•Œì™€ ê°™ìŠµë‹ˆë‹¤.</dd>
</dl>

<h1 id="í¼ì„-ìœ„í•œ-í…œí”Œë¦¿-ë‹¤ë£¨ê¸°">í¼ì„ ìœ„í•œ í…œí”Œë¦¿ ë‹¤ë£¨ê¸°</h1>

<p>ì•ì—ì„œëŠ”</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># page_form.html

<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>{% csrf_token %}
    {{form.as_p}}
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"ì‘ì„±í•˜ê¸°"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div>

<p>ì´ëŸ° ì‹ìœ¼ë¡œ ì‘ì„±í–ˆëŠ”ë° <code class="language-plaintext highlighter-rouge">{{form.as_p}}</code> ì´ë ‡ê²Œë§Œ ë‚˜íƒ€ë‚´ë©´ ê°ê°ì˜ ê°’ë“¤ì„ ê·¸ì € &lt;p&gt; íƒœê·¸ë¡œë§Œ ê°ì‹¸ê²Œ ë  ë¿ ë„ˆë¬´ ëª»ìƒê²¼ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì¡°ê¸ˆ ë” ì˜ˆì˜ê²Œ í…œí”Œë¦¿ì„ ì»¤ìŠ¤í…€ í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># page_form.html

<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>{% csrf_token %}
    <span class="nt">&lt;h3&gt;</span>ì œëª©<span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;p&gt;</span>{{form.title}}<span class="nt">&lt;/p&gt;</span>
    {% for error in form.title.errors %}
        <span class="nt">&lt;p&gt;</span>{{error}}<span class="nt">&lt;/p&gt;</span>
    {% endfor %}
    <span class="nt">&lt;h3&gt;</span>ë‚´ìš©<span class="nt">&lt;/h3&gt;</span>
    <span class="nt">&lt;p&gt;</span>{{form.content}}<span class="nt">&lt;/p&gt;</span>
    {% for error in form.content.errors %}
        <span class="nt">&lt;p&gt;</span>{{error}}<span class="nt">&lt;/p&gt;</span>
    {% endfor %}
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"ì‘ì„±í•˜ê¸°"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div>

<h1 id="í¼ì—-css-ì ìš©í•˜ê¸°">í¼ì— CSS ì ìš©í•˜ê¸°</h1>

<ul>
  <li>CSSì ìš©í•˜ê³  ì‹¶ì€ íƒœê·¸ì— í´ë˜ìŠ¤ë¥¼ ì •ì˜í•´ì„œ ê·¸ í´ë˜ìŠ¤ì— ì ìš©í•  CSSë¥¼ ë‹´ëŠ” <code class="language-plaintext highlighter-rouge">form.css</code> íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># page_form.html

<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>{% csrf_token %}
    <span class="nt">&lt;h3&gt;</span>ì œëª©<span class="nt">&lt;/h3&gt;</span>

    ...

        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"error"</span><span class="nt">&gt;</span>{{error}}<span class="nt">&lt;/p&gt;</span>
    
    ...
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"error"</span><span class="nt">&gt;</span>{{error}}<span class="nt">&lt;/p&gt;</span>

    ...

    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"ì‘ì„±í•˜ê¸°"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="nt">form</span><span class="nc">.css</span>

<span class="nc">.class</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> 
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">base.html</code>ë¡œ ë¶€í„° ìƒì†ë°›ê³  ê·¸ ì•ˆì— ì™ì™ ì§‘ì–´ë„£ìŠµë‹ˆë‹¤.</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># page_form.html

{% extends './base.html' %}
{% load static %}

{% block css %}
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"{% raw %}{% static 'posts/css/form.css %}"</span><span class="nt">&gt;</span>
{% endblock css %}

{% block content %}
  <span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>{% raw %}{% csrf_token %}
      <span class="nt">&lt;h3&gt;</span>ì œëª©<span class="nt">&lt;/h3&gt;</span>

      ...

          <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"error"</span><span class="nt">&gt;</span>{{error}}<span class="nt">&lt;/p&gt;</span>
      
      ...
          <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"error"</span><span class="nt">&gt;</span>{{error}}<span class="nt">&lt;/p&gt;</span>

      ...

      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"ì‘ì„±í•˜ê¸°"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/form&gt;</span>
{% endblock content %}
</code></pre></div></div>

<h1 id="í•„ë“œë¥¼-ê°€ì§€ëŠ”-ë°ì´í„°ì—-css-ì ìš©í•˜ê¸°">í•„ë“œë¥¼ ê°€ì§€ëŠ” ë°ì´í„°ì— CSS ì ìš©í•˜ê¸°</h1>

<ul>
  <li>ì•ì—ì„œ <code class="language-plaintext highlighter-rouge">error</code>ì—ëŠ” ê·¸ëƒ¥ &lt;p&gt;íƒœê·¸ì— í´ë˜ìŠ¤ë¥¼ ë°”ë¡œ ì •ì˜í•˜ì—¬ CSS ì ìš©ì´ ê°€ëŠ¥í–ˆì§€ë§Œ, ê³¼ ê°™ì€ í•„ë“œë¥¼ ê°€ì§€ëŠ” ë°ì´í„°ëŠ” ìœ„ì™€ ê°™ì´ ì ìš©ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
  <li>ê·¸ ì´ìœ ëŠ” í•„ë“œë¥¼ ê°€ì§€ëŠ” ë°ì´í„°ëŠ” ê¸°ë³¸ì ì¸ ë””í´íŠ¸ ìœ„ì ¯ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë”°ë¼ì„œ í´ë˜ìŠ¤ë‚˜ ì•„ì´ë””ë¥¼ ì •ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” ìœ„ì ¯ì— ì ‘ê·¼í•´ì•¼ í•©ë‹ˆë‹¤.</li>
</ul>

<p><img src="/images/d_form_12.png" alt="" width="60%" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># forms.py  
</span>
<span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Page</span> <span class="c1"># ì‚¬ìš©í•  ëª¨ë¸ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
</span>
<span class="k">class</span> <span class="nc">PageForm</span><span class="p">(</span><span class="n">forms</span><span class="p">.</span><span class="n">ModelForm</span><span class="p">):</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Page</span> <span class="c1"># ëª¨ë¸ í¼ì—ì„œ ì‚¬ìš©í•  ëª¨ë¸ê³¼ í•„ë“œë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.
</span>        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s">'title'</span><span class="p">,</span> <span class="s">'content'</span><span class="p">,</span> <span class="s">'feeling'</span><span class="p">,</span> <span class="s">'score'</span><span class="p">,</span> <span class="s">'dt_created'</span><span class="p">]</span>

        <span class="n">widgets</span> <span class="o">=</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="n">forms</span><span class="p">.</span><span class="n">TextInput</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'title'</span><span class="p">,</span>
                                                    <span class="s">'placeholder'</span><span class="p">:</span><span class="s">'ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”'</span><span class="p">}),</span>
                    <span class="s">'content'</span><span class="p">:</span> <span class="n">forms</span><span class="p">.</span><span class="n">Textarea</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'placeholder'</span><span class="p">:</span> <span class="s">'ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”'</span><span class="p">})</span>
                    <span class="p">}</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">{{form.title}}</code> ë°ì´í„°ì˜ í´ë˜ìŠ¤ëŠ” <code class="language-plaintext highlighter-rouge">'title'</code>ì´ë¼ê³  ì •ì˜í–ˆìœ¼ë¯€ë¡œ ì´ì œ CSSíŒŒì¼ì— ì ë‹¹íˆ ê¾¸ë¯¸ê³ ì í•˜ëŠ” ë‚´ìš©ì„ ë„£ì„ ìˆ˜ ìˆë‹¤.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="nt">form</span><span class="nc">.css</span>

<span class="nc">.title</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">400px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="í¬ìŠ¤íŠ¸-ìˆ˜ì •update-êµ¬í˜„í•˜ê¸°">í¬ìŠ¤íŠ¸ ìˆ˜ì •(Update) êµ¬í˜„í•˜ê¸°</h1>

<ul>
  <li>
    <p>ìœ ì €ê°€ ìì‹ ì´ ì‘ì„±í–ˆë˜ ê¸€ì— ì ‘ê·¼í•´ ê·¸ ê¸€ì„ ë‹¤ì‹œ ìˆ˜ì •í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
  </li>
  <li>
    <p>ì—¬ê¸°ì„œ í•µì‹¬ì€ ìœ ì €ê°€ í¬ìŠ¤íŠ¸ë¥¼ ìˆ˜ì •í•  ë•Œ ë¹ˆ í¬ìŠ¤íŠ¸ê°€ ì•„ë‹ˆë¼ ì‘ì„±í–ˆë˜ ê¸€ì—ì„œ ê°€ì ¸ì˜¨ë‹¤ëŠ” ì‚¬ì‹¤ì…ë‹ˆë‹¤.</p>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># urls.py
</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'diary/page/&lt;int:page_id&gt;/edit/'</span><span class="p">,</span> <span class="n">views</span><span class="p">.</span><span class="n">page_update</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'page-update'</span><span class="p">),</span>
<span class="p">]</span>  
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># page_detail.html

{% extends './base.html' %}

{% block content %}
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wrap-notetext"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"notetext"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"text-box"</span><span class="nt">&gt;</span>
           ...
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"notetext-btn"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;ul&gt;</span>
                    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>ì‚­ì œí•˜ê¸°<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'page-update' object.id %}"</span><span class="nt">&gt;</span>ìˆ˜ì •í•˜ê¸°<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;/ul&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{% endblock content %}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># views.py
</span>
<span class="k">def</span> <span class="nf">page_update</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">page_id</span><span class="p">):</span>
    <span class="nb">object</span> <span class="o">=</span> <span class="n">Page</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">page_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">PageForm</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="p">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">form</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'page-detail'</span><span class="p">,</span> <span class="n">page_id</span><span class="o">=</span><span class="nb">object</span><span class="p">.</span><span class="nb">id</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">PageForm</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'diary/page_form.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'form'</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span>
</code></pre></div></div>

<p>UpdateëŠ” ìƒˆë¡œ Page ë°ì´í„° ëª¨ë¸ì„ ë§Œë“¤ì–´ì„œ ì €ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê¸°ì¡´ì˜ ë°ì´í„° ëª¨ë¸ì„ ìˆ˜ì •í•´ì•¼ í•˜ë¯€ë¡œ PageFormì˜ <code class="language-plaintext highlighter-rouge">instance íŒŒë¼ë¯¸í„°</code>ë¡œ ì¡°íšŒí•œ ë°ì´í„° ëª¨ë¸ì„ ë„˜ê²¨ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.</p>

<h1 id="í¬ìŠ¤íŠ¸-ì‚­ì œdelete-êµ¬í˜„í•˜ê¸°">í¬ìŠ¤íŠ¸ ì‚­ì œ(Delete) êµ¬í˜„í•˜ê¸°</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># urls.py
</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
   
    <span class="n">path</span><span class="p">(</span><span class="s">'diary/page/&lt;int:page_id&gt;/delete/'</span><span class="p">,</span> <span class="n">views</span><span class="p">.</span><span class="n">page_delete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'page-delete'</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># page_detail.html

<span class="c">&lt;!-- page_detail.html --&gt;</span>
{% extends './base.html' %}

{% block content %}
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wrap-notetext"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"notetext"</span><span class="nt">&gt;</span>
        ...
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"notetext-btn"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;ul&gt;</span>
                    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'page-delete' object.id %}"</span><span class="nt">&gt;</span>ì‚­ì œí•˜ê¸°<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'page-update' object.id %}"</span><span class="nt">&gt;</span>ìˆ˜ì •í•˜ê¸°<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;/ul&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{% endblock content %}
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># page_delete.py
</span>
<span class="k">def</span> <span class="nf">page_delete</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">page_id</span><span class="p">):</span>
    <span class="nb">object</span> <span class="o">=</span> <span class="n">Page</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">page_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="n">method</span> <span class="o">==</span> <span class="s">'POST'</span><span class="p">:</span>
        <span class="nb">object</span><span class="p">.</span><span class="n">delete</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'page-list'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># ë§Œì•½ ìš”ì²­ì´ GET ë°©ì‹ì´ë¼ë©´
</span>                <span class="c1"># page_confirm_delete.htmlì„ ëœë”í•´ì„œ ëŒë ¤ì£¼ë„ë¡ í•©ë‹ˆë‹¤.
</span>                <span class="c1"># ì´ë•Œ ì‚­ì œ í™•ì¸ í˜ì´ì§€ì—ì„œ ê¸€ì˜ ì œëª©ì„ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ objectë¥¼ í•¨ê»˜ ë„˜ê²¨ì¤ë‹ˆë‹¤.
</span>        <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'diary/page_confirm_delete.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'object'</span><span class="p">:</span> <span class="nb">object</span><span class="p">})</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># page_confirm_delete.html

{% raw %}{% extends './base.html' %}

{% block content %}
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wrap-delete"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"delete-box"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"note-info"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;p&gt;</span><span class="ni">&amp;#123;</span><span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"note-date"</span><span class="nt">&gt;</span>{{object.dt_create}}<span class="nt">&lt;/span&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"note-title"</span><span class="nt">&gt;</span>{{object.title}}<span class="nt">&lt;/span&gt;</span>
            <span class="nt">&lt;p&gt;</span><span class="ni">&amp;#125;</span><span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;p&gt;</span>ì´ í•˜ë£¨ë¥¼ ì§€ìš¸ê¹Œìš”?<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">'post'</span><span class="nt">&gt;</span>{% csrf_token %}
            <span class="nt">&lt;ul&gt;</span>
                <span class="nt">&lt;li&gt;&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"ì§€ìš°ê¸°"</span><span class="nt">&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'page-detail' object.id%}"</span><span class="nt">&gt;</span>ë‚¨ê¸°ê¸°<span class="nt">&lt;/a&gt;&lt;/li&gt;</span> 
            <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;/form&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{% endblock content %}
</code></pre></div></div>
:ET