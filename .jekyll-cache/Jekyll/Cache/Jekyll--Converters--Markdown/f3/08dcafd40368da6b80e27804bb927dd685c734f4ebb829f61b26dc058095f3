I"Ÿœ<hr />

<p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#seeding" id="markdown-toc-seeding">Seeding</a></li>
  <li><a href="#pagination" id="markdown-toc-pagination">Pagination</a></li>
  <li><a href="#user" id="markdown-toc-user">User</a>    <ul>
      <li><a href="#íŒ¨í‚¤ì§€" id="markdown-toc-íŒ¨í‚¤ì§€">íŒ¨í‚¤ì§€</a></li>
      <li><a href="#ìœ ì €-ëª¨ë¸" id="markdown-toc-ìœ ì €-ëª¨ë¸">ìœ ì € ëª¨ë¸</a></li>
      <li><a href="#ìœ ì €-ì ‘ê·¼" id="markdown-toc-ìœ ì €-ì ‘ê·¼">ìœ ì € ì ‘ê·¼</a></li>
      <li><a href="#ì„¸ì…˜-ì„¤ì •" id="markdown-toc-ì„¸ì…˜-ì„¤ì •">ì„¸ì…˜ ì„¤ì •</a></li>
      <li><a href="#django-allauth-url" id="markdown-toc-django-allauth-url">django-allauth URL</a></li>
      <li><a href="#django-allauth-ìœ ìš©í•œ-ì„¤ì •ê°’" id="markdown-toc-django-allauth-ìœ ìš©í•œ-ì„¤ì •ê°’">django-allauth ìœ ìš©í•œ ì„¤ì •ê°’</a></li>
      <li><a href="#ì ‘ê·¼-ì œì–´" id="markdown-toc-ì ‘ê·¼-ì œì–´">ì ‘ê·¼ ì œì–´</a>        <ul>
          <li><a href="#mixin-ë°©ì‹" id="markdown-toc-mixin-ë°©ì‹">Mixin ë°©ì‹</a></li>
          <li><a href="#decorator-ë°©ì‹" id="markdown-toc-decorator-ë°©ì‹">Decorator ë°©ì‹</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#ëª¨ë¸ì˜-ë‹¤ì–‘í•œ-í•„ë“œ" id="markdown-toc-ëª¨ë¸ì˜-ë‹¤ì–‘í•œ-í•„ë“œ">ëª¨ë¸ì˜ ë‹¤ì–‘í•œ í•„ë“œ</a></li>
  <li><a href="#ì •ì -íŒŒì¼ê³¼-ë¯¸ë””ì–´-íŒŒì¼" id="markdown-toc-ì •ì -íŒŒì¼ê³¼-ë¯¸ë””ì–´-íŒŒì¼">ì •ì  íŒŒì¼ê³¼ ë¯¸ë””ì–´ íŒŒì¼</a></li>
  <li><a href="#imagefield" id="markdown-toc-imagefield">ImageField</a></li>
</ul>

<hr />

<h1 id="seeding">Seeding</h1>

<ul>
  <li>ì‚¬ìš©í•  ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì¶”ê°€í•˜ëŠ” ê²ƒ</li>
  <li>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ì„œ, í˜¹ì€ ì´ˆê¸°ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì…ë ¥í•´ì•¼í•  ë•Œ</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 manage.py loaddata &lt;jsoníŒŒì¼&gt;
</code></pre></div></div>

<h1 id="pagination">Pagination</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.core.paginator</span> <span class="kn">import</span> <span class="n">Paginator</span>

<span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span>

<span class="n">pages</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">posts</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="n">page</span> <span class="o">=</span> <span class="n">pages</span><span class="p">.</span><span class="n">page</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">page</span><span class="p">.</span><span class="n">object_list</span>

<span class="n">page</span><span class="p">.</span><span class="n">has_next</span><span class="p">()</span>
<span class="n">page</span><span class="p">.</span><span class="n">has_previous</span><span class="p">()</span>

<span class="n">page</span><span class="p">.</span><span class="n">next_page_number</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Function Based View
</span>
<span class="k">def</span> <span class="nf">post_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nb">all</span><span class="p">()</span>

    <span class="n">pages</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">posts</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">cur_page_num</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">GET</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'page'</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cur_page_num</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">cur_page_num</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">pages</span><span class="p">.</span><span class="n">page</span><span class="p">(</span><span class="n">cur_page_num</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'posts/post_list.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'page'</span><span class="p">:</span> <span class="n">page</span><span class="p">})</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Class Based View
</span>
<span class="k">class</span> <span class="nc">PostListView</span><span class="p">(</span><span class="n">ListView</span><span class="p">):</span>
    <span class="p">...</span>
    <span class="n">paginate_by</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="n">page_kwarg</span> <span class="o">=</span> <span class="s">'page'</span>

</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code># posts/post_list.html

{% if page.object_list %}
    {% for post in page.object_list %}
        <span class="nt">&lt;h2&gt;</span>{{post.title}}<span class="nt">&lt;/h2&gt;</span>
        ...
    {% endfor %}

    # í˜ì´ì§€ë„¤ì´í„°

    <span class="nt">&lt;div&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">?page=1</span><span class="nt">&gt;</span>first<span class="nt">&lt;/a&gt;</span>
        {% if page_obj.has_previous %}
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"?page={{ page_obj.previous_page_number }}"</span><span class="nt">&gt;</span>prev<span class="nt">&lt;/a&gt;</span>
        {% endif %}
        <span class="nt">&lt;span&gt;</span>{{ page_obj.number }} of {{ page_obj.paginator.num_pages }}<span class="nt">&lt;/span&gt;</span>

        {% if page_obj.has_next %}
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"?page={{ page_obj.next_page_number }}"</span><span class="nt">&gt;</span>next<span class="nt">&lt;/a&gt;</span>
        {% endif %}
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"?page={{ page_obj.paginator.num_pages }}"</span><span class="nt">&gt;</span>last<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

{% endif %}

</code></pre></div></div>

<h1 id="user">User</h1>

<h2 id="íŒ¨í‚¤ì§€">íŒ¨í‚¤ì§€</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">django.contrib.auth</code>: ì¥ê³ ì— ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ (<a href="https://github.com/django/django/tree/main/django/contrib/auth">ì†ŒìŠ¤ì½”ë“œ ì°¸ê³ </a>)</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">django-allauth</code>: ë³„ë„ë¡œ ì„¤ì¹˜í•´ì•¼ í•˜ëŠ” íŒ¨í‚¤ì§€ (<a href="https://github.com/pennersr/django-allauth/tree/master/allauth/account">ì†ŒìŠ¤ì½”ë“œ ì°¸ê³ </a>)</p>
  </li>
  <li>ë³´í†µ ëª¨ë¸ë§Œ <code class="language-plaintext highlighter-rouge">django.contrib.auth</code> ì—ì„œ ê°€ì ¸ì˜¤ê³ ,</li>
  <li>ë‚˜ë¨¸ì§€ url, view, formê³¼ ê´€ë ¨ëœ ê¸°ëŠ¥ë“¤ì€ <code class="language-plaintext highlighter-rouge">django-allauth</code>ì—ì„œ ê°€ì ¸ì˜¨ë‹¤</li>
  <li><code class="language-plaintext highlighter-rouge">django-allauth</code>ëŠ” ì´ë©”ì¼ ì¡´ì¬ì—¬ë¶€ í™•ì¸, SNS ì•„ì´ë””ë¥¼ í†µí•œ ë¡œê·¸ì¸ê³¼ ê°™ì€ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•´ì¤€ë‹¤</li>
  <li>ë˜ django.contrib.authëŠ” viewë¥¼ ì§ì ‘ êµ¬í˜„í•´ì•¼í•˜ì§€ë§Œ, django-allauthëŠ” ê°„ë‹¨í•œ ì„¤ì •ìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤</li>
</ul>

<p>ğŸ“¦ <strong>django-allauth ì„¤ì¹˜</strong></p>

<ul>
  <li><a href="https://django-allauth.readthedocs.io/en/latest/installation.html">ê³µì‹ë¬¸ì„œ ì°¸ê³ </a></li>
  <li><code class="language-plaintext highlighter-rouge">pip install django-allauth</code></li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># settings.py
</span>
<span class="n">AUTHENTICATION_BACKENDS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Needed to login by username in Django admin, regardless of `allauth`
</span>    <span class="s">'django.contrib.auth.backends.ModelBackend'</span><span class="p">,</span>

    <span class="c1"># `allauth` specific authentication methods, such as login by e-mail
</span>    <span class="s">'allauth.account.auth_backends.AuthenticationBackend'</span><span class="p">,</span>
<span class="p">]</span>

<span class="c1"># https://django-allauth.readthedocs.io/en/latest/configuration.html ì°¸ê³ 
</span><span class="n">ACCOUNT_SIGNUP_REDIRECT_URL</span> <span class="o">=</span> <span class="s">'&lt;íšŒì›ê°€ì… í›„ ë¦¬ë‹¤ì´ë ‰íŠ¸í•  url&gt;'</span>
<span class="n">LOGIN_REDIRECT_URL</span> <span class="o">=</span> <span class="s">'&lt;ë¡œê·¸ì¸ í›„ ë¦¬ë‹¤ì´ë ‰íŠ¸í•  url&gt;'</span>
<span class="n">ACCOUNT_LOGOUT_ON_GET</span> <span class="o">=</span> <span class="bp">True</span>

<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># The following apps are required:
</span>    <span class="s">'django.contrib.auth'</span><span class="p">,</span>
    <span class="s">'django.contrib.messages'</span><span class="p">,</span>
    <span class="s">'django.contrib.sites'</span><span class="p">,</span>

    <span class="s">'allauth'</span><span class="p">,</span>
    <span class="s">'allauth.account'</span><span class="p">,</span>
    <span class="s">'allauth.socialaccount'</span><span class="p">,]</span>

<span class="n">SITE_ID</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># urls.py
</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">...</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'accounts/'</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">'allauth.urls'</span><span class="p">)),</span>
    <span class="p">...</span>
<span class="p">]</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3  manage.py migrate
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 manage.py runserver
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>localhost:8000/accounts/login
</code></pre></div></div>

<h2 id="ìœ ì €-ëª¨ë¸">ìœ ì € ëª¨ë¸</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">django.contrib.auth</code> ì—ëŠ” ê¸°ë³¸ìœ ì € ëª¨ë¸ë„ ì œê³µí•´ì£¼ê³ , ìƒì† ë°›ì•„ì„œ ì“¸ ìˆ˜ ìˆëŠ” ì¶”ìƒí´ë˜ìŠ¤ ëª¨ë¸ë„ ì œê³µí•´ì¤€ë‹¤</li>
  <li>ê¸°ë³¸ìœ ì € ëª¨ë¸: <code class="language-plaintext highlighter-rouge">User</code> (ë‚˜ì¤‘ì— í•„ë“œ ì¶”ê°€í•˜ê¸° ì–´ë ¤ì›Œì§€ê¸° ë•Œë¬¸ì— ì¥ê³ ì—ì„œ ê¶Œì¥í•˜ì§€ ì•ŠìŒ)</li>
  <li>ì¶”ìƒí´ë˜ìŠ¤ ëª¨ë¸: <code class="language-plaintext highlighter-rouge">AbstractUser</code>, <code class="language-plaintext highlighter-rouge">AbstractBaseUser</code></li>
  <li>(<code class="language-plaintext highlighter-rouge">AbstractUser</code>ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ username, email ë“±ê³¼ ê°™ì€ í•„ë“œê°€ ì„¤ì •ë˜ì–´ ìˆìŒ)</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">AbstractUser</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">AbstractUser</span><span class="p">):</span>
    <span class="k">pass</span>
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># settings.py
</span>
<span class="c1"># ìœ ì € ëª¨ë¸ ì •ì˜í•œ ì•±ì´ë¦„.ëª¨ë¸ëª…
</span><span class="n">AUTH_USER_MODEL</span> <span class="o">=</span> <span class="s">'users.User'</span>
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 manage.py makemigrations
python3 manage.py migrate
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># admin.py
</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.admin</span> <span class="kn">import</span> <span class="n">UserAdmin</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">User</span>

<span class="c1"># ì´ë ‡ê²Œ UserAdminì„ ë¶™ì—¬ì£¼ë©´, ì–´ë“œë¯¼ í˜ì´ì§€ì—ì„œ Userë¥¼ ìœ„í•œ í¸ë¦¬í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µ
</span><span class="n">admin</span><span class="p">.</span><span class="n">site</span><span class="p">.</span><span class="n">register</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">UserAdmin</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>í•„ë“œ ì¶”ê°€</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">AbstractUser</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">AbstractUser</span><span class="p">):</span>
    <span class="n">nickname</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># admin.py
</span>
<span class="c1"># ë³„ë„ë¡œ ì¶”ê°€í•œ í•„ë“œëŠ” ì¶”ê°€ ë“±ë¡í•´ì¤˜ì•¼ ì¸í„°í˜ì´ìŠ¤ì— ë³´ì¸ë‹¤
# Custom fields ë¼ëŠ” ì„¹ì…˜ì— nickname í•„ë“œ ì¶”ê°€
</span><span class="n">UserAdmin</span><span class="p">.</span><span class="n">fieldsets</span> <span class="o">+=</span> <span class="p">(</span><span class="s">"Custom fields"</span><span class="p">,</span> <span class="p">{</span><span class="s">"fields"</span><span class="p">:</span> <span class="p">(</span><span class="s">"nickname"</span><span class="p">,)})</span>
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># forms.py
</span>
<span class="c1"># django-allauth ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” íšŒì›ê°€ì… í¼ì´ ìˆë‹¤
# í•˜ì§€ë§Œ ë³´í†µ íšŒì›ê°€ì… í¼ì€ ì»¤ìŠ¤í…€í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤
# í¼ì€ ì•„ë˜ì™€ ê°™ì´ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•  ìˆ˜ ìˆë‹¤
</span><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">User</span>

<span class="k">class</span> <span class="nc">SignUpForm</span><span class="p">(</span><span class="n">forms</span><span class="p">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">User</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s">'nickname'</span><span class="p">]</span> <span class="c1"># ë³„ë„ë¡œ ì¶”ê°€í•œ í•„ë“œë§Œ ì ì–´ì£¼ë©´ ëœë‹¤. ì—†ìœ¼ë©´ fields = '__all__'
</span>
    <span class="k">def</span> <span class="nf">signup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="n">user</span><span class="p">.</span><span class="n">nickname</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">cleaned_date</span><span class="p">[</span><span class="s">'nickname'</span><span class="p">]</span>
        <span class="n">user</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># settings.py
</span>
<span class="n">ACCOUNT_SIGNUP_FORM_CLASS</span> <span class="o">=</span> <span class="s">'users.forms.SignUpForm'</span>
</code></pre></div></div>

<h2 id="ìœ ì €-ì ‘ê·¼">ìœ ì € ì ‘ê·¼</h2>

<ul>
  <li>View: <code class="language-plaintext highlighter-rouge">request.user</code></li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>request.user
request.user.email
request.user.is_authenticated
</code></pre></div></div>

<ul>
  <li>Template: <code class="language-plaintext highlighter-rouge">{{ user }}</code></li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% if user.is_authenticated %}
    &lt;a href="{% url 'account_logout' %}"&gt;ë¡œê·¸ì•„ì›ƒ&lt;/a&gt;
{% else %}
    &lt;a href="{% url 'account_login' %}"&gt;ë¡œê·¸ì¸&lt;/a&gt;
    &lt;a href="{% url 'account_signup' %}"&gt;íšŒì›ê°€ì…&lt;/a&gt;
{% endif %}

</code></pre></div></div>

<h2 id="ì„¸ì…˜-ì„¤ì •">ì„¸ì…˜ ì„¤ì •</h2>

<ul>
  <li>ì„¸ì…˜: ì›¹ ì„œë²„ì— ì €ì¥ëœ ìœ ì €ì˜ ë°©ë¬¸ ê¸°ë¡</li>
  <li>ë³´í†µ ë¸Œë¼ìš°ì € íƒ­ì„ ë‹«ìœ¼ë©´ ë¡œê·¸ì¸ í’€ë¦¼ (ì¿ í‚¤ì— ì €ì¥ëœ session idê°€ ì‚­ì œë˜ê¸° ë•Œë¬¸)</li>
  <li>ì´ë¥¼ ì„¤ì •ì„ í†µí•´ ì œì–´í•  ìˆ˜ ìˆìŒ</li>
</ul>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># settings.py
</span>
<span class="c1"># íƒ­ ë‹«ì•„ë„ ì¿ í‚¤ê°€ ë°”ë¡œ ì‚­ì œ ë˜ì§€ ì•ŠìŒ -&gt; ë¡œê·¸ì¸ ìœ ì§€ì‹œí‚¬ ìˆ˜ ìˆìŒ
</span><span class="n">ACCOUNT_SESSION_REMEMBER</span> <span class="o">=</span> <span class="bp">True</span>

<span class="c1"># ì¿ í‚¤ ìƒëª…ì£¼ê¸° ì„¤ì • (ê¸°ë³¸ê°’ì€ 2ì£¼)
</span><span class="n">SESSION_COOKIE_AGE</span> <span class="o">=</span> <span class="mi">3600</span> <span class="c1"># (1ì‹œê°„)
</span></code></pre></div></div>

<ul>
  <li>ì›¹ ì„œë²„ì—ëŠ” ì„¸ì…˜ ì •ë³´ê°€ ì‚­ì œë˜ì§€ ì•Šê³  ê³„ì† ìŒ“ì„</li>
  <li>ì´ë¥¼ ì¤‘ê°„ì¤‘ê°„ ì‚­ì œí•´ì¤„ í•„ìš”ê°€ ìˆìŒ</li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 manage.py clearsessions
</code></pre></div></div>

<h2 id="django-allauth-url">django-allauth URL</h2>

<table>
  <tbody>
    <tr>
      <td>URL ê²½ë¡œ</td>
      <td>URL ëª…</td>
      <td>ì„¤ëª…</td>
    </tr>
    <tr>
      <td>â€˜signup/â€™</td>
      <td>â€˜account_signupâ€™</td>
      <td>íšŒì›ê°€ì… í˜ì´ì§€</td>
    </tr>
    <tr>
      <td>â€˜login/â€™</td>
      <td>â€˜account_loginâ€™</td>
      <td>ë¡œê·¸ì¸ í˜ì´ì§€</td>
    </tr>
    <tr>
      <td>â€˜logout/â€™</td>
      <td>â€˜account_logoutâ€™</td>
      <td>ë¡œê·¸ì•„ì›ƒ í˜ì´ì§€ (ACCOUNT_LOGOUT_ON_GET = True ì‚¬ìš©ì‹œ ë°”ë¡œ ë¡œê·¸ì•„ì›ƒ)</td>
    </tr>
    <tr>
      <td>â€˜confrim-email//â€™</td>
      <td>â€˜account_confirm_emailâ€™</td>
      <td>ì´ë©”ì¼ ì¸ì¦ í˜ì´ì§€(ACCOUNT_CONFIRM_EMAIL_ON_GET = True ì‚¬ìš©ì‹œ ë°”ë¡œ ì¸ì¦ ì™„ë£Œ ë©ë‹ˆë‹¤.)</td>
    </tr>
    <tr>
      <td>â€˜password/change/â€™</td>
      <td>â€˜account_change_passwordâ€™</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í˜ì´ì§€</td>
    </tr>
    <tr>
      <td>â€˜password/reset/â€™</td>
      <td>â€˜account_reset_passwordâ€™</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° í˜ì´ì§€ (ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ë¥¼ ë°›ì„ ì´ë©”ì¼ì„ ì…ë ¥í•˜ëŠ” í˜ì´ì§€)</td>
    </tr>
    <tr>
      <td>â€˜password/reset/done/â€™</td>
      <td>â€˜account_reset_password_doneâ€™</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì´ë©”ì¼ ì „ì†¡ ì™„ë£Œ í˜ì´ì§€</td>
    </tr>
    <tr>
      <td>â€˜password/reset/key//</td>
      <td>â€˜account_reset_password_from_keyâ€™</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • í˜ì´ì§€ (ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì„¤ì •í•˜ëŠ” í˜ì´ì§€)</td>
    </tr>
    <tr>
      <td>â€˜password/reset/key/done/</td>
      <td>â€˜account_reset_password_from_key_doneâ€™</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì™„ë£Œ í˜ì´ì§€</td>
    </tr>
  </tbody>
</table>

<h2 id="django-allauth-ìœ ìš©í•œ-ì„¤ì •ê°’">django-allauth ìœ ìš©í•œ ì„¤ì •ê°’</h2>

<table>
  <tbody>
    <tr>
      <td>ë³€ìˆ˜</td>
      <td>ê°€ëŠ¥í•œ ê°’</td>
      <td>ê¸°ë³¸ê°’</td>
      <td>ì„¤ëª…</td>
    </tr>
    <tr>
      <td>ACCOUNT_AUTHENTICATION_METHOD</td>
      <td>â€œusernameâ€ , â€œemailâ€ , â€œusername_emailâ€</td>
      <td>â€œusernameâ€</td>
      <td>ë¡œê·¸ì¸ ë°©ë²•ì„ ì„¤ì •í•©ë‹ˆë‹¤. â€œusernameâ€: ìœ ì €ë„¤ì„ ì‚¬ìš©, â€œemailâ€: ì´ë©”ì¼ ì‚¬ìš©, â€œusername_emailâ€: ë‘˜ ë‹¤ ì‚¬ìš© ê°€ëŠ¥</td>
    </tr>
    <tr>
      <td>ACCOUNT_CONFIRM_EMAIL_ON_GET</td>
      <td>True , False</td>
      <td>False</td>
      <td>True: ì´ë©”ì¼ ì¸ì¦ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ë°”ë¡œ ì¸ì¦ì´ ë©ë‹ˆë‹¤, False: ì´ë©”ì¼ ì¸ì¦ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ì¸ì¦ confirmation í˜ì´ì§€ë¡œ ê°‘ë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_EMAIL_CONFIRMATION_ANONYMOUS_REDIRECT_URL</td>
      <td>URL (URL ê²½ë¡œ, URL ë„¤ì„ ëª¨ë‘ ê°€ëŠ¥)</td>
      <td>LOGIN_URL (ì•„ë˜ ì°¸ê³ )</td>
      <td>ë¡œê·¸ì¸ì´ ì•ˆëœ ìƒíƒœë¡œ ì¸ì¦ì„ ì™„ë£Œí–ˆì„ ë•Œ ë¦¬ë””ë ‰íŠ¸ë˜ëŠ” URL.</td>
    </tr>
    <tr>
      <td>ACCOUNT_EMAIL_CONFIRMATION_AUTHENTICATED_REDIRECT_URL</td>
      <td>URL (URL ê²½ë¡œ, URL ë„¤ì„ ëª¨ë‘ ê°€ëŠ¥)</td>
      <td>LOGIN_REDICRECT_URL (ì•„ë˜ ì°¸ê³ )</td>
      <td>ë¡œê·¸ì¸ì´ ëœ ìƒíƒœë¡œ ì¸ì¦ì„ ì™„ë£Œí–ˆì„ ë•Œ ë¦¬ë””ë ‰íŠ¸ë˜ëŠ” URL.</td>
    </tr>
    <tr>
      <td>ACCOUNT_EMAIL_CONFIRMATION_EXPIRE_DAYS</td>
      <td>ì´ë©”ì¼ ì¸ì¦ ë§í¬ ë§Œë£Œ ê¸°ê°„ (ë‹¨ìœ„: ì¼)</td>
      <td>3</td>
      <td>ì´ë©”ì¼ ì¸ì¦ ë§í¬ ë§Œë£Œ ê¸°ê°„</td>
    </tr>
    <tr>
      <td>ACCOUNT_EMAIL_REQUIRED</td>
      <td>True , False</td>
      <td>False</td>
      <td>íšŒì›ê°€ì… ì‹œ ì´ë©”ì¼ì„ ê¼­ ì…ë ¥í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. True: ì´ë©”ì¼ì„ ê¼­ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤, False: ì´ë©”ì¼ í•„ë“œëŠ” ì˜µì…”ë„ í•„ë“œì…ë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_EMAIL_VERIFICATION</td>
      <td>â€œmandatoryâ€ , â€œoptionalâ€ , â€œnoneâ€</td>
      <td>â€œoptionalâ€</td>
      <td>ì´ë©”ì¼ ì¸ì¦ í•„ìš” ì—¬ë¶€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. â€œmandatoryâ€: íšŒì›ê°€ì… ì‹œ ì¸ì¦ ì´ë©”ì¼ì´ ë°œì†¡ë˜ê³ , ì¸ì¦ì„ ì™„ë£Œí•´ì•¼ë§Œ ë¡œê·¸ì¸ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤, â€œoptionalâ€: íšŒì›ê°€ì… ì‹œ ì¸ì¦ ì´ë©”ì¼ì´ ë°œì†¡ë˜ì§€ë§Œ, ì¸ì¦ì´ í•„ìˆ˜ëŠ” ì•„ë‹™ë‹ˆë‹¤, â€œnoneâ€: ì¸ì¦ ì´ë©”ì¼ì´ ë°œì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_LOGIN_ATTEMPTS_LIMIT</td>
      <td>ìµœëŒ€ ë¡œê·¸ì¸ ì‹¤íŒ¨ íšŸìˆ˜</td>
      <td>5</td>
      <td>ìµœëŒ€ ë¡œê·¸ì¸ ì‹¤íŒ¨ íšŸìˆ˜</td>
    </tr>
    <tr>
      <td>ACCOUNT_LOGIN_ATTEMPTS_TIMEOUT</td>
      <td>ë¡œê·¸ì¸ì´ ì ê¸°ëŠ” ê¸°ê°„ (ë‹¨ìœ„: ì´ˆ)</td>
      <td>300</td>
      <td>ë¡œê·¸ì¸ ì‹œë„ê°€ ACCOUNT_LOGIN_ATTEMPTS_LIMITì„ ì´ˆê³¼í•˜ë©´ ì„¤ì •í•˜ëŠ” ì‹œê°„ë§Œí¼ ë¡œê·¸ì¸ì´ ì ê¹ë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_LOGOUT_ON_GET</td>
      <td>True , False</td>
      <td>False</td>
      <td>True: ë¡œê·¸ì•„ì›ƒ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ë°”ë¡œ ë¡œê·¸ì•„ì›ƒì´ ë©ë‹ˆë‹¤, False: ë¡œê·¸ì•„ì›ƒ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ë¡œê·¸ì•„ì›ƒ confirmation í˜ì´ì§€ë¡œ ê°‘ë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_LOGOUT_REDIRECT_URL</td>
      <td>URL (URL ê²½ë¡œ, URL ë„¤ì„ ëª¨ë‘ ê°€ëŠ¥)</td>
      <td>â€/â€</td>
      <td>ë¡œê·¸ì•„ì›ƒ ì‹œ ë¦¬ë””ë ‰íŠ¸ë˜ëŠ” URL</td>
    </tr>
    <tr>
      <td>ACCOUNT_PASSWORD_INPUT_RENDER_VALUE</td>
      <td>True , False</td>
      <td>False</td>
      <td>í¼ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì‹¤íŒ¨í•  ê²½ìš°, ì…ë ¥í–ˆë˜ ë¹„ë°€ë²ˆí˜¸ê°€ ì±„ì›Œì§„ ìƒíƒœë¡œ í¼ì´ ëŒì•„ì˜¤ëŠ”ì§€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_SESSION_REMEMBER</td>
      <td>None , True , False</td>
      <td>None</td>
      <td>ë¸Œë¼ìš°ì €ë¥¼ ë‹«ìœ¼ë©´ ìœ ì €ë¥¼ ë¡œê·¸ì•„ì›ƒ ì‹œí‚¬ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. None: ìœ ì €ê°€ ì²´í¬ë°•ìŠ¤ë¥¼ í†µí•´ ì„ íƒí•˜ê²Œ í•©ë‹ˆë‹¤, True: ë¸Œë¼ìš°ì €ë¥¼ ë‹«ì•„ë„ ë¡œê·¸ì¸ì„ ìœ ì§€í•©ë‹ˆë‹¤, False: ë¸Œë¼ìš°ì €ë¥¼ ë‹«ìœ¼ë©´ ìœ ì €ë¥¼ ë¡œê·¸ì•„ì›ƒ ì‹œí‚µë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_SIGNUP_EMAIL_ENTER_TWICE</td>
      <td>True , False</td>
      <td>False</td>
      <td>íšŒì›ê°€ì…ì‹œ ì´ë©”ì¼ì„ ë‘ ë²ˆ ì…ë ¥í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_SIGNUP_FORM_CLASS</td>
      <td>í¼ í´ë˜ìŠ¤ (e.g. â€˜myapp.forms.SignupFormâ€™)</td>
      <td>None</td>
      <td>íšŒì›ê°€ì… í˜ì´ì§€ì—ì„œ ì¶”ê°€ ì •ë³´ë¥¼ ë°›ì•„ì•¼ í•  ë•Œ, ì‚¬ìš©í•  í¼ í´ë˜ìŠ¤ë¥¼ ì§€ì •í•´ ì¤ë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_SIGNUP_PASSWORD_ENTER_TWICE</td>
      <td>True , False</td>
      <td>False</td>
      <td>íšŒì›ê°€ì… ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‘ ë²ˆ ì…ë ¥í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>ACCOUNT_SIGNUP_REDIRECT_URL</td>
      <td>URL (URL ê²½ë¡œ, URL ë„¤ì„ ëª¨ë‘ ê°€ëŠ¥)</td>
      <td>LOGIN_REDIRECT_URL (ì•„ë˜ ì°¸ê³ )</td>
      <td>íšŒì›ê°€ì… ì„±ê³µ ì‹œ ë¦¬ë””ë ‰íŠ¸ë˜ëŠ” URL</td>
    </tr>
    <tr>
      <td>ACCOUNT_USERNAME_REQUIRED</td>
      <td>True , False</td>
      <td>True</td>
      <td>íšŒì›ê°€ì… ì‹œ ìœ ì €ë„¤ì„ì„ ì…ë ¥í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. True: ìœ ì €ë„¤ì„ì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤, False: ìœ ì €ë„¤ì„ì„ ì…ë ¥ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤.</td>
    </tr>
    <tr>
      <td>LOGIN_REDIRECT_URL</td>
      <td>URL (URL ê²½ë¡œ, URL ë„¤ì„ ëª¨ë‘ ê°€ëŠ¥)</td>
      <td>â€˜/accounts/profile/â€™</td>
      <td>ì„±ê³µì ì¸ ë¡œê·¸ì¸ ì‹œ ë¦¬ë””ë ‰íŠ¸ë˜ëŠ” URL</td>
    </tr>
    <tr>
      <td>LOGIN_URL</td>
      <td>URL (URL ê²½ë¡œ, URL ë„¤ì„ ëª¨ë‘ ê°€ëŠ¥)</td>
      <td>â€˜/accounts/login/â€™</td>
      <td>ì›¹ì‚¬ì´íŠ¸ì˜ ë¡œê·¸ì¸ URL</td>
    </tr>
    <tr>
      <td>PASSWORD_RESET_TIMEOUT</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ ë§Œë£Œ ê¸°ê°„ (ë‹¨ìœ„: ì´ˆ)</td>
      <td>259200 (3ì¼)</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ ë§Œë£Œ ê¸°ê°„ (Django 3.1 ì´í›„ ë²„ì „ì—ì„œë§Œ ì§€ì›)</td>
    </tr>
    <tr>
      <td>PASSWORD_RESET_TIMEOUT_DAYS</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ ë§Œë£Œ ê¸°ê°„ (ë‹¨ìœ„: ì¼)</td>
      <td>3</td>
      <td>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ ë§Œë£Œ ê¸°ê°„ (Django 3.0 ì´ì „ ë²„ì „ì—ì„œë§Œ ì§€ì›)</td>
    </tr>
    <tr>
      <td>SESSION_COOKIE_AGE</td>
      <td>ì„¸ì…˜ ì¿ í‚¤ ë§Œë£Œ ê¸°ê°„ (ë‹¨ìœ„: ì´ˆ)</td>
      <td>1209600 (2ì£¼)</td>
      <td>ì„¸ì…˜ ì¿ í‚¤ ë§Œë£Œ ê¸°ê°„ (ë¡œê·¸ì¸ì„ ì–¼ë§ˆë‚˜ ì˜¤ë«ë™ì•ˆ ìœ ì§€í•  ê²ƒì¸ì§€)</td>
    </tr>
  </tbody>
</table>

<h2 id="ì ‘ê·¼-ì œì–´">ì ‘ê·¼ ì œì–´</h2>

<ul>
  <li>ë¡œê·¸ì¸ì„ í•´ì•¼ ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤</li>
  <li>ë‚´ê°€ ì‘ì„±í•œ ê¸€ë§Œ ìˆ˜ì •/ì‚­ì œ í•  ìˆ˜ ìˆë‹¤</li>
  <li>Function Based View ë¼ë©´ ë°ì½”ë ˆì´í„°(Decorator)ë¥¼ í†µí•´ì„œ,</li>
  <li>Class Based View ë¼ë©´ ë¯¹ìŠ¤ì¸(MixIn)ì„ í†µí•´ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤</li>
</ul>

<h3 id="mixin-ë°©ì‹">Mixin ë°©ì‹</h3>

<ul>
  <li>Mixinì„ ì œê³µí•´ì£¼ëŠ” íŒ¨í‚¤ì§€: <code class="language-plaintext highlighter-rouge">django.contrib.auth</code>, <code class="language-plaintext highlighter-rouge">django-braces</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">django.contrib.auth</code>: ë‚´ì¥ëœ íŒ¨í‚¤ì§€ì´ì§€ë§Œ, ì›í•˜ëŠ” ë¡œì§ì„ ì§ì ‘ êµ¬í˜„í•˜ê¸° í˜ë“¤ë‹¤</li>
      <li><code class="language-plaintext highlighter-rouge">django-braces</code>: ì ‘ê·¼ ì œì–´ì™€ ê´€ë ¨ëœ <code class="language-plaintext highlighter-rouge">Access Mixin</code> ì œê³µ</li>
    </ul>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install django-braces
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">braces.views</span> <span class="kn">import</span> <span class="n">LoginRequiredMixIn</span>

<span class="c1"># LoginRequiredMixIn í´ë˜ìŠ¤ê°€ ë¨¼ì € ë‚˜ì™€ì•¼í•¨
</span><span class="k">class</span> <span class="nc">ReviewCreateView</span><span class="p">(</span><span class="n">LoginRequiredMixIn</span><span class="p">,</span> <span class="n">CreateView</span><span class="p">):</span>
    <span class="p">...</span>
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># settings.py
</span>
<span class="c1"># ë¡œê·¸ì¸ í™”ë©´ URLì„ ëª…ì‹œí•´ì•¼ LoginRequiredMixin í´ë˜ìŠ¤ê°€ ì•ˆë‚´í•´ì¤€ë‹¤
</span><span class="n">LOGIN_URL</span> <span class="o">=</span> <span class="s">'account_login'</span>
</code></pre></div></div>

<ul>
  <li>ìì‹ ì´ ì‘ì„±í•œ ê¸€ì—ë§Œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ë³´ì´ë„ë¡ í•˜ê¸°</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% if  post.author == user %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'post-update' post.id %}"</span><span class="nt">&gt;</span>ìˆ˜ì •<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'post-delete' post.id %}"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="nt">&lt;/a&gt;</span>

{% endif %}
</code></pre></div></div>

<p>ğŸ’Š <strong>Mixin</strong></p>

<ul>
  <li>Mixinì€ íŒŒì´ì¬ì˜ ì¼ë°˜ì ì¸ ê°œë…ì¸ë°, ê¸°ì¡´ì˜ í´ë˜ìŠ¤ì— ì–´ë–¤ ê¸°ëŠ¥ì„ ë”í•´ì¤„ ë•Œ ì“°ì¸ë‹¤</li>
  <li>(ì—¬ê¸°ì„œëŠ” ë·° í´ë˜ìŠ¤ì— ì ‘ê·¼ ì œì–´ ê¸°ëŠ¥ì„ ë”í•´ì¤¬ë‹¤)</li>
</ul>

<h3 id="decorator-ë°©ì‹">Decorator ë°©ì‹</h3>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># views.py
</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.decorators</span> <span class="kn">import</span> <span class="n">login_required</span>

<span class="o">@</span><span class="n">login_required</span>
<span class="k">def</span> <span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="p">...</span>
</code></pre></div></div>

<h1 id="ëª¨ë¸ì˜-ë‹¤ì–‘í•œ-í•„ë“œ">ëª¨ë¸ì˜ ë‹¤ì–‘í•œ í•„ë“œ</h1>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># models.py
</span>
<span class="k">class</span> <span class="nc">Review</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">titile</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">link</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">URLField</span><span class="p">()</span>
    
    <span class="n">RATING_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
        <span class="c1"># (ëª¨ë¸í•„ë“œì— ë“¤ì–´ê°ˆ ê°’, í™”ë©´ì— ë³´ì¼ ê°’)
</span>        <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="p">]</span>
    
    <span class="n">rating</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="n">choices</span><span class="o">=</span><span class="n">RATING_CHOICES</span><span class="p">)</span>
    
    <span class="n">image</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ImageField</span><span class="p">()</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="n">dt_created</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DataTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">dt_updated</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">title</span>
</code></pre></div></div>

<h1 id="ì •ì -íŒŒì¼ê³¼-ë¯¸ë””ì–´-íŒŒì¼">ì •ì  íŒŒì¼ê³¼ ë¯¸ë””ì–´ íŒŒì¼</h1>

<ul>
  <li>ì •ì  íŒŒì¼
    <ul>
      <li>ì›¹ ê°œë°œì—ì„œ ì‚¬ìš©í•œ íŒŒì¼
        <ul>
          <li>ex. CSS, ì›¹ ì‚¬ì´íŠ¸ë¥¼ ê¾¸ë¯¸ê¸° ìœ„í•´ ì‚¬ìš©í•œ ê³ ì •ëœ ì´ë¯¸ì§€</li>
        </ul>
      </li>
      <li>ë¯¸ë””ì–´ íŒŒì¼
        <ul>
          <li>ex. ì‚¬ìš©ìê°€ ìƒì„±/ë“±ë¡í•œ í”„ë¡œí•„ ì‚¬ì§„</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href= </span><span class="s">"{% static '&lt;ì •ì  íŒŒì¼ ê²½ë¡œ&gt;' %}"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>

</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># settings.py
</span>
<span class="c1"># ë¯¸ë””ì–´ íŒŒì¼ì˜ ë£¨íŠ¸ ë””ë ‰í„°ë¦¬ ìœ„ì¹˜ë¥¼ ëª…ì‹œí•œë‹¤
</span><span class="n">MEDIA_ROOT</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s">'&lt;ë¯¸ë””ì–´ íŒŒì¼ í´ë”ëª…&gt; ex.media'</span><span class="p">)</span>

<span class="c1"># ë¯¸ë””ì–´ íŒŒì¼ì„ URLë¡œ í‘œì‹œí•  ë•Œ ì‚¬ìš©í•  ê²½ë¡œ (ê·¸ëƒ¥ ì•„ë¬´ë ‡ê²Œë‚˜ ì ì–´ë„ ìƒê´€ì—†ë‹¤)
# ë‚˜ì¤‘ì— í…œí”Œë¦¿ íŒŒì¼ì—ì„œ ì‚¬ìš©í•  ë•Œ ì¤‘ìš”í•œ ê°’ì€ MEDIA_ROOT/&lt;upload_toì—ì„œ ì„¤ì •í•œ ê²½ë¡œ&gt; ì´ë‹¤
# upload_to ëŠ” ë°‘ì—ì„œ ë°°ìš¸ ImageField ì˜ íŒŒë¼ë¯¸í„°ë¡œ, MEDIA_ROOT ì•„ë˜ì— ì‚¬ì§„ì´ ì €ì¥ë  ë””ë ‰í„°ë¦¬ë¥¼ ì ìœ¼ë©´ ëœë‹¤
# í…œí”Œë¦¿ì—ì„œëŠ” &lt;img src=""&gt; ì´ëŸ°ì‹ìœ¼ë¡œ .urlë¡œ ì ‘ê·¼í•˜ë©´ ëœë‹¤
</span><span class="n">MEDIA_URL</span> <span class="o">=</span> <span class="s">'/uploads'</span>
</code></pre></div></div>

<h1 id="imagefield">ImageField</h1>

<ul>
  <li>ì´ë¯¸ì§€ í•„ë“œì— ë¯¸ë””ì–´ íŒŒì¼ URL ì£¼ì†Œë¥¼ ì €ì¥í•˜ë©´,</li>
  <li>í¼ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì´ë¯¸ì§€ë¥¼ ë¯¸ë””ì–´ íŒŒì¼ ë””ë ‰í„°ë¦¬ì— ì €ì¥í•´ì¤€ë‹¤</li>
  <li>ì´ë¯¸ì§€ í•„ë“œë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ pillow íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼í•¨</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install pillow
</code></pre></div></div>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># models.py
</span>
<span class="k">class</span> <span class="nc">Review</span><span class="p">(</span><span class="n">models</span><span class="p">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="p">...</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ImageField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s">'&lt;media í´ë” ì•ˆì— ì €ì¥í•  í´ë”ëª… ex. review_pics&gt;'</span><span class="p">)</span>

    <span class="c1"># ë§Œì•½ ì´ë¯¸ì§€ë¥¼ ìµœì†Œ 1ì¥ ìµœëŒ€ 3ì¥ ë“±ë¡í•  ìˆ˜ ìˆë„ë¡ í•˜ë ¤ë©´,
</span>    <span class="n">image1</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ImageField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s">'review_pics'</span><span class="p">)</span>
    <span class="n">image2</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ImageField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s">'review_pics'</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">image3</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">ImageField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s">'review_pics'</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ê²°ë¡ ì ìœ¼ë¡œ,
ë¯¸ë””ì–´ íŒŒì¼ì€ &lt;MEDIA_ROOT&gt;/&lt;upload_to&gt; ë””ë ‰í„°ë¦¬ì— ì €ì¥ë˜ê³ ,
í…œí”Œë¦¿ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” {{ object.image.url }} ì´ëŸ°ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤
</code></pre></div></div>
:ET