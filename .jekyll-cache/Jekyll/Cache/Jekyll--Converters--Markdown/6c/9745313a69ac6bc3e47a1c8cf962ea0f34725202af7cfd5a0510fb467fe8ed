I"€5<hr />

<p id="toc"><strong>Table of Contents</strong></p>

<ul id="markdown-toc">
  <li><a href="#í”„ë¡œë¯¸ìŠ¤-ê°ì²´" id="markdown-toc-í”„ë¡œë¯¸ìŠ¤-ê°ì²´">í”„ë¡œë¯¸ìŠ¤ ê°ì²´</a></li>
  <li><a href="#ë¹„ë™ê¸°-ì‹¤í–‰" id="markdown-toc-ë¹„ë™ê¸°-ì‹¤í–‰">ë¹„ë™ê¸° ì‹¤í–‰</a></li>
</ul>

<hr />

<ul>
  <li>ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°(42ì¥), í”„ë¡œë¯¸ìŠ¤(45ì¥), ì œë„ˆë ˆì´í„°ì™€ async/await(46ì¥)</li>
</ul>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì‹¤í–‰í•˜ë©´ Start -&gt; End -&gt; result ìˆœìœ¼ë¡œ ì¶œë ¥ë¨</span>
<span class="c1">// thenì€ ì½œë°±í•¨ìˆ˜ë¥¼ ë“±ë¡ê¹Œì§€ë§Œ í•¨</span>
<span class="c1">// ì‹¤ì œ ì½œë°±í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì€ responseë¥¼ ë°›ì•˜ì„ ë•Œ</span>
<span class="c1">// ì‹¤í–‰ íë¦„ì´ ë°”ë¡œ ë‹¤ìŒ ì½”ë“œë¡œ ë„˜ì–´ê°€ê³ , ë‚˜ì¤‘ì— ì½œë°±ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ 'ë¹„ë™ê¸° ì‹¤í–‰'ì´ë¼ê³  í•©ë‹ˆë‹¤.</span>
<span class="c1">// ë³´í†µ 'ë¹„ë™ê¸° ì‹¤í–‰'ì´ 'ë™ê¸° ì‹¤í–‰'ì— ë¹„í•´, ë™ì¼í•œ ì‘ì—…ì„ ë” ë¹ ë¥¸ ì‹œê°„ ë‚´ì— ì²˜ë¦¬</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.naver.com</span><span class="dl">"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
  <span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">End</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ë‹¤ì–‘í•œ ë¹„ë™ê¸° ì‹¤í–‰ í•¨ìˆ˜ë“¤</span>

<span class="c1">// ì„¤ì •í•œ ë°€ë¦¬ì„¸ì»¨ì¦ˆë§Œí¼ì˜ ì‹œê°„ì´ ê²½ê³¼í–ˆì„ ë•Œ ì‹¤í–‰</span>
<span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">b</span><span class="dl">"</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>

<span class="c1">// íŠ¹ì • ì½œë°±ì„ ì¼ì •í•œ ì‹œê°„ ê°„ê²©ìœ¼ë¡œ ì‹¤í–‰</span>
<span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">b</span><span class="dl">"</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>

<span class="c1">// ì‚¬ìš©ìê°€ ì›¹ í˜ì´ì§€ì—ì„œ ì–´ë–¤ ë²„íŠ¼ ë“±ì„ í´ë¦­í–ˆì„ ë•Œ</span>
<span class="nx">btn</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello Codeit!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// fetch í•¨ìˆ˜ëŠ” ì½œë°±ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°”ë¡œ ì „ë‹¬ë°›ëŠ” ê²Œ ì•„ë‹ˆë¼, fetch í•¨ìˆ˜ê°€ ë¦¬í„´í•˜ëŠ” ì–´ë–¤ ê°ì²´ì˜ then ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì½œë°±ì„ ë“±ë¡</span>
<span class="c1">// fetch í•¨ìˆ˜ëŠ”, ì¢€ ë” ìƒˆë¡œìš´ ë°©ì‹ìœ¼ë¡œ ë¹„ë™ê¸° ì‹¤í–‰ì„ ì§€ì›í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ê³¼ ì—°ê´€ì´ ìˆë‹¤</span>
<span class="c1">// fetch í•¨ìˆ˜ëŠ” Promise ê°ì²´ë¼ëŠ” ê²ƒì„ ë¦¬í„´í•˜ê³ , ì´ Promise ê°ì²´ëŠ” ë¹„ë™ê¸° ì‹¤í–‰ì„ ì§€ì›í•˜ëŠ” ë˜ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ë¬¸ë²•ì— í•´ë‹¹</span>
<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.google.com</span><span class="dl">"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span> <span class="c1">// fetch í•¨ìˆ˜ê°€ ë¦¬í„´í•˜ëŠ” ê°ì²´ì˜ then ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì½œë°±ì„ ë“±ë¡</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div></div>

<h1 id="í”„ë¡œë¯¸ìŠ¤-ê°ì²´">í”„ë¡œë¯¸ìŠ¤ ê°ì²´</h1>

<ul>
  <li>ì‘ì—…ì— ê´€í•œ â€˜ìƒíƒœì •ë³´â€™ë¥¼ ê°€ì§€ê³  ìˆëŠ” ê°ì²´</li>
  <li>ìƒíƒœ
    <ul>
      <li><code class="language-plaintext highlighter-rouge">pending</code>: ì§„í–‰ì¤‘ -&gt; response ë°›ìœ¼ë©´ <code class="language-plaintext highlighter-rouge">fulfilled</code>, ëª» ë°›ìœ¼ë©´ <code class="language-plaintext highlighter-rouge">rejected</code> ë¨</li>
      <li><code class="language-plaintext highlighter-rouge">fulfilled</code>: ì„±ê³µ -&gt; ì‘ì—… ì„±ê³µ ê²°ê³¼ ì¶”ê°€ë¡œ ê°€ì§€ê²Œ ë¨ (ì´ ë•Œ ì½œë°±í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨)</li>
      <li><code class="language-plaintext highlighter-rouge">rejected</code>: ì‹¤íŒ¨ -&gt; ì‘ì—… ì‹¤íŒ¨ ê²°ê³¼ ì¶”ê°€ë¡œ ê°€ì§€ê²Œ ë¨</li>
    </ul>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>then
    - í”„ë¡œë¯¸ìŠ¤ ê°ì²´ì˜ ìƒíƒœì •ë³´ê°€ fulfilledê°€ ë˜ì—ˆì„ ë•Œ, ì‹¤í–‰í•  ì½œë°±í•¨ìˆ˜ë¥¼ ë“±ë¡í•˜ëŠ” ë©”ì„œë“œ
    - í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ë‹¤ì‹œ ë¦¬í„´ =&gt; ì²´ì´ë‹ ê°€ëŠ¥ (Promise Chaining) =&gt; ë¹„ë™ê¸° ì‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•¨
    - text ë©”ì†Œë“œì™€ json ë©”ì†Œë“œëŠ” Promise ê°ì²´ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì†Œë“œ
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.google.com</span><span class="dl">"</span><span class="p">)</span>
  <span class="c1">// rejected ìƒíƒœê°€ ë˜ë©´ ì‹¤í–‰í•  ì½œë°± í•¨ìˆ˜</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span>
    <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">(),</span>
    <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
  <span class="p">});</span>

<span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.google.com</span><span class="dl">"</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="c1">// catchë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŒ (catch ë©”ì„œë“œëŠ” ë³´í†µ ë§ˆì§€ë§‰ì— ì¨ì¤€ë‹¤)</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div></div>

<h1 id="ë¹„ë™ê¸°-ì‹¤í–‰">ë¹„ë™ê¸° ì‹¤í–‰</h1>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ë¹„ë™ê¸° í•¨ìˆ˜</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchAndPrint</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// await: í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ê¸°ë‹¤ë¦¼(pendingì´ fulfilled ë˜ëŠ” rejected ìƒíƒœê°€ ë  ë•Œ ê¹Œì§€)</span>
  <span class="c1">// ì‘ì—… ì„±ê³µ ê²°ê³¼ ë˜ëŠ” ì‹¤íŒ¨ë¥¼ ì¶”ì¶œí•´ ë„˜ê²¨ì¤Œ. ê·¸ë¦¬ê³  ë‹¤ìŒ ì½”ë“œ ì‹¤í–‰</span>
  <span class="c1">// ê·¼ë° ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ í”„ë¡œê·¸ë¨ ì „ì²´ê°€ ë©ˆì¶°ìˆëŠ” ê²ƒì€ ì•„ë‹˜ =&gt; ê·¸ë™ì•ˆ async ë°–ì— ìˆëŠ” ì½”ë“œê°€ ì‹¤í–‰ë¨</span>
  <span class="c1">// ==&gt; await ì€ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ê°€ ë¦¬í„´ë  ë•Œ ê¹Œì§€ async ë‚´ë¶€ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ê¸°ë‹¤ë¦¬ë©°, ê·¸ë™ì•ˆ async ë°–ì˜ ì½”ë“œë“¤ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•œë‹¤</span>
  <span class="c1">// await í‚¤ì›Œë“œëŠ” async í•¨ìˆ˜ ì•ˆì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥</span>
  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.google.com</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">fetchAndPrint</span><span class="p">();</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchAndPrint</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.google.com</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">end</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">fetchAndPrint</span><span class="p">();</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// async í•¨ìˆ˜ëŠ” í•­ìƒ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ë¦¬í„´</span>
<span class="c1">// PromiseState: fulfilled</span>
<span class="c1">// PromiseResult: 3</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchAndPrint</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
:ET