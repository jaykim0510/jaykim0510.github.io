I"$<hr />

<p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#elk-stack" id="markdown-toc-elk-stack">ELK Stack</a>    <ul>
      <li><a href="#elk의-어원" id="markdown-toc-elk의-어원">ELK의 어원</a></li>
      <li><a href="#elk의-등장배경" id="markdown-toc-elk의-등장배경">ELK의 등장배경</a></li>
      <li><a href="#elk-용도" id="markdown-toc-elk-용도">ELK 용도</a></li>
      <li><a href="#elk를-사용하는-이유" id="markdown-toc-elk를-사용하는-이유">ELK를 사용하는 이유</a></li>
    </ul>
  </li>
  <li><a href="#elasticsearch" id="markdown-toc-elasticsearch">Elasticsearch</a>    <ul>
      <li><a href="#elasticsearch-특징" id="markdown-toc-elasticsearch-특징">Elasticsearch 특징</a></li>
    </ul>
  </li>
  <li><a href="#logstash" id="markdown-toc-logstash">Logstash</a>    <ul>
      <li><a href="#logstash-특징" id="markdown-toc-logstash-특징">Logstash 특징</a></li>
    </ul>
  </li>
  <li><a href="#kibana" id="markdown-toc-kibana">Kibana</a>    <ul>
      <li><a href="#kinbana-특징" id="markdown-toc-kinbana-특징">Kinbana 특징</a></li>
    </ul>
  </li>
  <li><a href="#beats" id="markdown-toc-beats">Beats</a>    <ul>
      <li><a href="#beats-특징" id="markdown-toc-beats-특징">Beats 특징</a></li>
    </ul>
  </li>
  <li><a href="#참고" id="markdown-toc-참고">참고</a></li>
</ul>

<hr />
<h1 id="elk-stack">ELK Stack</h1>

<p>2004년 샤이 배논(Shay Banon)은 Compass 라는 이름의 오픈소스 검색엔진을 개발하였습니다. 샤이 배논이 처음 Compass 검색엔진 개발을 하게 된 계기는 요리 공부를 시작한 아내를 위해 레시피 검색 프로그램을 만들기 위해서였습니다. 레시피 검색 프로그램에 아파치 루씬(Apache Lucene)을 적용하려던 중 루씬이 가진 한계를 보완하기 위해 새로 검색엔진을 만들기 위한 프로젝트를 시작한 것이 계기입니다. 2010년 샤이는 Compass를 Elasticsearch라고 이름을 바꾸고 프로젝트를 오픈소스로 공개하였는데, 곧 수많은 검색 개발자들에게 인기를 얻으며 급속도로 성장하기 시작했습니다.</p>

<p>Elasticsearch 프로젝트는 2012년에 창시자 샤이 배논과 함께 스티븐 셔르만(Steven Schuurman), 우리 보네스(Uri Boness) 그리고 아파치 루씬 커미터인 사이먼 윌너(Simon Willnauer) 4인의 멤버에 인해 네델란드 암스텔담에서 처음 회사로 설립되었으며 집필중인 2019년 현재는 주 본사인 네덜란드 암스테르담과 캘리포니아 마운틴 뷰를 비롯한 전 세계에 직원들이 분포되어 있습니다.</p>

<p>Logstash, Kibana와 함께 사용 되면서 한동안 ELK Stack (Elasticsearch, Logstash, Kibana) 이라고 널리 알려지게 된 Elastic은 2013년에 Logstash, Kibana 프로젝트를 정식으로 흡수하여 한 지붕 아래에서 함께 개발을 해 나가고 있습니다. 2015년에는 회사명을 Elasticsearch 에서 Elastic으로 변경 하고, ELK Stack 대신 제품명을 Elastic Stack이라고 정식으로 명명하면서 모니터링, 클라우드 서비스, 머신러닝 등의 기능을 계속해서 개발, 확장 해 나가고 있습니다.</p>

<p><img src="/images/elastic_1.png" alt="" /></p>

<ul>
  <li><strong>Elasticsearch</strong>: Lucene 기반의 전문 검색을 지원하는 분산 검색 엔진</li>
  <li><strong>Logstash</strong>: 데이터를 추출하고 전처리한 후 엘라스틱서치로 전달하는 파이프라인</li>
  <li><strong>Kibana</strong>: 엘라스틱서치에 저장된 데이터를 시각화 하는 도구</li>
  <li><strong>Beats</strong>: 단일 목적의 데이터 수집기 무료 오픈 소스 플랫폼. 수백 수천 개의 장비와 시스템으로부터 Logstash나 Elasticsearch에 데이터를 전송</li>
</ul>

<h2 id="elk의-어원">ELK의 어원</h2>

<ul>
  <li>초기에는 Elasticsearch + Logstash + Kibana를 줄여 ELK 스택이라고 했음</li>
  <li>Beats의 등장 이후 Beats + Elasticsearch + Logstash + Kibana를 ELK (Elastic Stack)이라고 하게됨</li>
  <li>최근에는 데이터 용량이 커짐에 따라 버퍼, 안정성 등을 이유로 Kafka, RabbitMQ 와 같은 서비스 함께 사용</li>
</ul>

<p><img src="/images/elk_3.png" alt="" /></p>

<h2 id="elk의-등장배경">ELK의 등장배경</h2>

<ul>
  <li>최근 마이크로서비스 형태의 패턴으로 서비스가 개발됨에 따라 중앙화된 로깅 시스템이 필요해짐</li>
  <li>클라우드 기반 서비스에서는 각 노드에서의 작업량, 환경, 사용자 수에 따라 성능이 상이함</li>
  <li>어플리케이션마다 발생할 수 있는 장애가 다름</li>
</ul>

<h2 id="elk-용도">ELK 용도</h2>

<ul>
  <li>로그 통합 모니터링/분석</li>
  <li>애플리케이션 성능 분석</li>
</ul>

<h2 id="elk를-사용하는-이유">ELK를 사용하는 이유</h2>

<ul>
  <li>ELK는 다양한 소스, 다양한 포맷, 검색엔진, 분석 그리고 시각화까지 중앙화된 로깅 시스템에 필요한 많은 기능을 갖추고 있음</li>
  <li>ELK는 비즈니스가 성장하는 규모에 맞춰 효율적으로 통합된 실시간 분석 시스템을 구축하도록 하는 도구 모음</li>
  <li>오랜시간 커뮤니티에서 활발하게 사용되어 왔고, 많은 성공 사례를 가짐</li>
</ul>

<h1 id="elasticsearch">Elasticsearch</h1>

<ul>
  <li>루씬(Lucene)의 색인 기반 검색엔진 라이브러리를 바탕으로 만든 검색 엔진 서비스</li>
  <li>확장성, 가용성을 고려해 분산 시스템으로 설계</li>
  <li>Elastic Stack의 핵심 구성요소(Elasticsearch, Logstash, Kibana)</li>
  <li>기본적으로는 검색엔진이지만, MongoDB나 HBase처럼 NoSQL로도 활용</li>
  <li>보통 로그를 통합하고 분석하는 파이프라인의 구성요소로 많이 사용</li>
</ul>

<h2 id="elasticsearch-특징">Elasticsearch 특징</h2>

<ul>
  <li>색인 기반의 빠른 검색 엔진 기능 제공 (거의 실시간)</li>
  <li>모든 요청과 응답을 REST API 형태로 제공</li>
  <li>분산 시스템으로 대용량 데이터를 저장/처리할 수 있음 (샤딩)</li>
  <li>서로 다른 인덱스를 하나의 질의로 묶어서 검색할 수 있는 멀티테넌시 기능 제공</li>
  <li>Elastic 생태계의 다른 도구와 함께 파이프라인 구축이 간단</li>
  <li>자바 언어로 개발 되었고 JVM 있는 어떤 환경에서든 구동이 가능</li>
  <li>Java, Python, Go, Ruby 등 다양한 고수준 언어에 클라이언트 API 제공</li>
</ul>

<h1 id="logstash">Logstash</h1>

<ul>
  <li>데이터 수집과 가공 기능을 제공</li>
  <li>다양한 데이터 소스로부터 데이터를 수집해서 필터링하여 정제한 후 원하는 저장소로 전달</li>
  <li>IP주소에서 위치 정보 좌표를 해독하고, 민감한 필드를 익명화하거나 제외시키는 등의 전반적인 작업을 쉽게 해줌</li>
  <li>로그스태시는 크게 3가지 구성요소로 나뉜다
    <ul>
      <li>Input: 수집할 데이터 소스를 정의</li>
      <li>Filters: 데이터를 정제하기 위한 필터</li>
      <li>Output: 데이터를 전달하기 위한 저장소</li>
    </ul>
  </li>
</ul>

<h2 id="logstash-특징">Logstash 특징</h2>

<ul>
  <li>확장 가능한 200개 이상의 플러그인</li>
  <li>배치 처리와 병렬 처리가 가능하며, 영속적인 큐를 사용해 현재 처리중인 이벤트의 최소 1회 전송을 보장</li>
  <li>데이터량이 급증하는 부하 상황에서도 안정성을 보장</li>
</ul>

<h1 id="kibana">Kibana</h1>

<ul>
  <li>ELK에서 UI를 담당</li>
  <li>Elasticsearch에 저장된 도큐먼트, 집계결과를 시각화</li>
</ul>

<h2 id="kinbana-특징">Kinbana 특징</h2>

<ul>
  <li>실시간으로 인덱스에 저장된 도큐먼트를 모니터링할 수 있음</li>
  <li>각종 집계 정보를 대시보드로 시각화 할 수 있음</li>
  <li>엘라스틱서치 API 자동완성, 문법 체크, 구문 검사 기능 제공</li>
</ul>

<h1 id="beats">Beats</h1>

<ul>
  <li>로그스태시와 유사하게 데이터를 수집하는 도구</li>
  <li>로그스태시의 필터링과 같은 무거운 요소들을 제외한 경량 수집 도구</li>
</ul>

<h2 id="beats-특징">Beats 특징</h2>

<ul>
  <li>Filebeat, Metricbeat 등 각각의 비트는 특정 목적에만 집중 -&gt; 가벼움</li>
  <li>Go 언어로 작성 -&gt; 가벼움</li>
  <li>전세계 오픈소스 개발자들로부터 50여가지 이상의 다양한 비츠가 개발되고 있음</li>
</ul>

<p><img src="/images/beats_1.png" alt="" /></p>

<h1 id="참고">참고</h1>

<ul>
  <li><a href="https://www.elastic.co/kr/what-is/elk-stack" target="_blank">elastic, ELK Stack이란 무엇인가요?</a></li>
  <li><a href="https://www.guru99.com/elk-stack-tutorial.html" target="_blank">Guru99, ELK Stack Tutorial: What is Kibana, Logstash &amp; Elasticsearch?</a></li>
  <li><a href="https://www.mcplusa.com/the-3-reasons-why-you-should-be-using-elk/" target="_blank">MC+A, Why you should be using the Elastic (ELK) Stack</a></li>
  <li><a href="https://logz.io/learn/complete-guide-elk-stack/" target="_blank">logz.io, THE COMPLETE GUIDE TO THE ELK STACK</a></li>
</ul>

:ET