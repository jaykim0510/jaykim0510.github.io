I"d<hr />

<p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#document" id="markdown-toc-document">Document</a></li>
  <li><a href="#index" id="markdown-toc-index">Index</a></li>
  <li><a href="#inverted-index" id="markdown-toc-inverted-index">Inverted Index</a></li>
  <li><a href="#mapping" id="markdown-toc-mapping">Mapping</a></li>
  <li><a href="#template" id="markdown-toc-template">Template</a></li>
  <li><a href="#query-dsl" id="markdown-toc-query-dsl">Query DSL</a></li>
  <li><a href="#shard" id="markdown-toc-shard">Shard</a></li>
  <li><a href="#참고" id="markdown-toc-참고">참고</a></li>
</ul>

<hr />

<h1 id="document">Document</h1>

<ul>
  <li>여러 개의 필드로 구성된 하나의 데이터</li>
  <li>Index에 JSON 형태로 저장</li>
  <li>RDBMS의 Row 또는 Record와 유사한 개념</li>
</ul>

<h1 id="index">Index</h1>

<ul>
  <li>인덱스는 도큐먼트를 저장하는 논리적 단위</li>
  <li>실제로 존재하지 않으며, 역색인 자료구조와도 관련 없음</li>
  <li>도큐먼트를 논리적으로 구분하는 것이 목적</li>
</ul>

<h1 id="inverted-index">Inverted Index</h1>

<ul>
  <li>도큐먼트를 인덱싱(삽입) 했을 때 분석기(Analyzer)에 의해 만들어진 용어(term)들이 색인되는 자료구조</li>
</ul>

<h1 id="mapping">Mapping</h1>

<h1 id="template">Template</h1>

<h1 id="query-dsl">Query DSL</h1>

<h1 id="shard">Shard</h1>

<ul>
  <li>분산 처리/복제를 위한 단위</li>
  <li>Primary 샤드와 Replica 샤드가 있음</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- 샤딩은 Document와 Inverted Index를 함께 샤딩하는 것 같다
- 어디서는 Inverted Index라고 얘기하고, 어디서는 Document라고 한다
- 정확히 둘 다 샤딩한다고 얘기하는 곳은 못봤다
</code></pre></div></div>

<p><img src="/images/es_index_1.png" alt="" /></p>

<p><img src="/images/es_shard_1.png" alt="" /></p>

<h1 id="참고">참고</h1>

<ul>
  <li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/documents-indices.html">elastic 공식문서, Data in: documents and indices</a></li>
  <li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/scalability.html">elastic 공식문서, Scalability and resilience</a></li>
  <li><a href="https://www.instaclustr.com/blog/opensearch-and-elasticsearch-architecture/">instaclustr, A Comprehensive Guide to OpenSearch and Elasticsearch™ Architecture</a></li>
  <li><a href="https://medium.com/geekculture/elasticsearch-internals-4c4c9ec077fa">Shivanshu Goyal, Elasticsearch and its internals working</a></li>
  <li><a href="https://stackoverflow.com/questions/15426441/understanding-segments-in-elasticsearch">stackoverflow, Understanding Segments in Elasticsearch</a></li>
  <li><a href="https://stackoverflow.com/questions/59064364/elasticsearch-when-document-is-stored-does-it-get-split-up-into-different-shard">stackoverflow, Elasticsearch, when document is stored does it get split up into different shards?</a></li>
  <li><a href="https://trackit.io/trackit-whitepapers/accelerate-your-metadata-search-from-60-seconds-to-4-seconds-by-adding-elasticsearch-to-your-architecture/">trackit, Accelerate your metadata search from 60 seconds to 4 seconds by adding Elasticsearch to your architecture</a></li>
</ul>
:ET