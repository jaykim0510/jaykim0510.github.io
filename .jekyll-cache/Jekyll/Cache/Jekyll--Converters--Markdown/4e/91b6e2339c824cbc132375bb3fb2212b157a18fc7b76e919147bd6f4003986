I"Š<hr />

<p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#what-is-a-log" id="markdown-toc-what-is-a-log">What Is a Log?</a></li>
  <li><a href="#logs-in-database" id="markdown-toc-logs-in-database">Logs in Database</a></li>
  <li><a href="#logs-in-distribuuted-system" id="markdown-toc-logs-in-distribuuted-system">Logs in Distribuuted System</a></li>
</ul>

<hr />

<h1 id="what-is-a-log">What Is a Log?</h1>

<p>Yet other than perhaps occasionally tailing a log file, most engineers donâ€™t think much about logs. To help remedy that, Iâ€™ll give an overview of how logs work in distributed systems, and then give some practical applications of these concepts to a variety of common uses: data integration, enterprise architecture, real-time data processing, and data system design.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[2022-07-02 05:30:44] method=POST user=crazyboy0510 path=/movies/comment-create/ movie_id=16
[2022-07-02 05:30:57] method=GET user=crazyboy0510 path=/movies/movie-play/7 movie_id=7
[2022-07-02 05:31:15] method=GET user=crazyboy0510 path=/movies/movie-play/16 movie_id=16
[2022-07-02 05:31:18] method=GET user=crazyboy0510 path=/movies/movie-play/7 movie_id=7
[2022-07-02 05:31:19] method=GET user=crazyboy0510 path=/movies/movie-play/7 movie_id=7
</code></pre></div></div>

<p>Every programmer is familiar with this kind of log - a series of loosely structured requests, errors, or other messages in a sequence of rotating text files.</p>

<p>The purpose of logs quickly becomes an input to queries in order to understand behavior across many machines, something that English text in files is not nearly as appropriate for as the kind of structured log Iâ€™ll be talking about.</p>

<p>The log Iâ€™ll be discussing is a little more general and closer to what in the database or systems called a â€˜commit logâ€™. It is append-only sequence of records ordered by time.</p>

<p><img src="/images/logs_1.png" alt="" /></p>

<p>Each rectangle represents a record that was appended to the log. Records are stored in the order they were appended. The contents and format of the records arenâ€™t important for the purposes of this discussion. To be concrete, we can just imagine each record to be a JSON blob.</p>

<p>The log entry number can be thought of as the â€˜timestampâ€™ of the entry. this is convenient property of being decoupled from any particular physical clock. This property is essential as we get to distributed systems.</p>

<p>A log is just kind of table or file where the records are sorted by time</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>table: array of records  
file: array of bytes  
</code></pre></div></div>

<p>However it is important that we thing about the log as an <strong>abstract data structure, not a text file</strong>.</p>

<p>Logs have a specific purpose: they record what happened and when. For distributed data systems, this is the heart of the problem.</p>

<h1 id="logs-in-database">Logs in Database</h1>

<h1 id="logs-in-distribuuted-system">Logs in Distribuuted System</h1>

:ET