I"<hr />

<p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#시작하기-전에" id="markdown-toc-시작하기-전에">시작하기 전에</a></li>
  <li><a href="#git-restore" id="markdown-toc-git-restore">git restore</a></li>
  <li><a href="#git-reset" id="markdown-toc-git-reset">git reset</a></li>
  <li><a href="#git-revert" id="markdown-toc-git-revert">git revert</a></li>
</ul>

<hr />

<h1 id="시작하기-전에">시작하기 전에</h1>

<p>시작하기 전에 한 가지 커밋을 추가하도록 하자.</p>

<p><img src="/images/git_32.png" alt="" /></p>

<p>현재 yalco 디렉토리의 commit 이력은 다음과 같다.</p>

<p><img src="/images/git_33.png" alt="" /></p>

<h1 id="git-restore">git restore</h1>

<ul>
  <li>Working direcotry 또는 Staging Area에 기록된 변경 사항을 되돌리는 방법</li>
</ul>

<p><img src="/images/git_34.png" alt="" /></p>

<h1 id="git-reset">git reset</h1>

<ul>
  <li>특정 커밋으로 돌아간다</li>
  <li>soft, mixed, hard 옵션이 있음</li>
  <li>git reset –<strong>soft</strong> “원하는 시점의 커밋ID”
    <ul>
      <li>돌아온 시점 이후의 변경사항들이 사라지지 않고 Staging Area에 올라와 있음
<img src="/images/git_35.png" alt="" /></li>
      <li>당연히 Working directory에도 반영되어 있음</li>
      <li>돌아온 시점을 반영하고 싶으면 <code class="language-plaintext highlighter-rouge">git restore --staged .</code>를 쓰면 됨
<img src="/images/git_36.png" alt="" /></li>
      <li>가장 안전한 방법</li>
    </ul>
  </li>
  <li>git reset –<strong>mixed</strong> “원하는 시점의 커밋 ID”
    <ul>
      <li>돌아온 시점 이후의 변경사항들이 사라지지 않고 Working directory에 올라와 있음</li>
      <li>돌아온 시점을 반영하고 싶으면 <code class="language-plaintext highlighter-rouge">git restore .</code></li>
    </ul>
  </li>
  <li>git reset –<strong>hard</strong> “원하는 시점의 커밋 ID”
    <ul>
      <li>3가지 영역에서의 상태가 모두 돌아온 시점으로 동기화 되어 있음</li>
      <li>가장 과감한 방법</li>
    </ul>
  </li>
  <li>돌아왔는데 다시 앞의 커밋으로 돌아가고 싶으면,
    <ul>
      <li><code class="language-plaintext highlighter-rouge">git reflog</code> 통해 앞의 커밋을 나타내는 HEAD${숫자} 또는 커밋id를 확인한다 (빠져나올때는 <code class="language-plaintext highlighter-rouge">q</code>)</li>
      <li><code class="language-plaintext highlighter-rouge">git reset --hard HEAD${숫자} or 커밋id</code> 를 하면 다시 앞의 커밋으로 돌아오고, 그동안의 커밋도 그대로 tree에 남게된다</li>
    </ul>
  </li>
</ul>

<h1 id="git-revert">git revert</h1>

<ul>
  <li>특정 커밋에서 이루어진 작업을 취소하는 커밋을 새로 생성</li>
</ul>

<p><img src="/images/git_37.png" alt="" /></p>

<p><img src="/images/git_38.png" alt="" /></p>

<p><img src="/images/git_39.png" alt="" /></p>

<ul>
  <li>만약 특정 커밋에서 이루어진 작업을 취소까지는 하는데 일단 Staging Area까지만 완성해놓고 커밋은 미루어 두고 싶다면
    <ul>
      <li>git revert –no-commit “되돌릴 커밋 ID”</li>
    </ul>
  </li>
</ul>
:ET